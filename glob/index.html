<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="A wildcard file name matching library"><link href=https://facelessuser.github.io/wcmatch/glob/ rel=canonical><link href=../fnmatch/ rel=prev><link href=../pathlib/ rel=next><link rel=icon href=../assets/images/favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.14"><title>Usage - Wildcard Match Documentation</title><link rel=stylesheet href=../assets/stylesheets/main.342714a4.min.css><link rel=stylesheet href=../assets/stylesheets/palette.06af60db.min.css><script src=../assets/pymdownx-extras/material-extra-theme-2ek1P7jT.js type=text/javascript></script><script src=../assets/pymdownx-extras/material-extra-3rdparty-BUCF4rjN.js type=text/javascript></script><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../assets/pymdownx-extras/extra-c6ab11540a.css><script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=dracula data-md-color-primary=deep-purple data-md-color-accent=deep-purple> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#wcmatchglob class=md-skip> Skip to content </a> </div> <div data-md-component=announce> <aside class=md-banner> <div class="md-banner__inner md-grid md-typeset"> <span class=twemoji> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m23 12-2.44-2.78.34-3.68-3.61-.82-1.89-3.18L12 3 8.6 1.54 6.71 4.72l-3.61.81.34 3.68L1 12l2.44 2.78-.34 3.69 3.61.82 1.89 3.18L12 21l3.4 1.46 1.89-3.18 3.61-.82-.34-3.68zm-10 5h-2v-2h2zm0-4h-2V7h2z"/></svg> </span> 8.0 has been released! Check out the <a href=../about/release/#upgrade-to-8.0>Release Notes</a> for more information and migration tips. <br> <a href=../about/contributing/#become-a-sponsor>Sponsorship</a> is now available! <span class="twemoji heart-throb"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 16 16"><path d="M7.655 14.916zh-.002l-.006-.003-.018-.01a22 22 0 0 1-3.744-2.584C2.045 10.731 0 8.35 0 5.5 0 2.836 2.086 1 4.25 1 5.797 1 7.153 1.802 8 3.02 8.847 1.802 10.203 1 11.75 1 13.914 1 16 2.836 16 5.5c0 2.85-2.044 5.231-3.886 6.818a22 22 0 0 1-3.433 2.414 7 7 0 0 1-.31.17l-.018.01-.008.004a.75.75 0 0 1-.69 0"/></svg> </span> </div> </aside> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=header.title> <a href=https://facelessuser.github.io/wcmatch/ title="Wildcard Match Documentation" class="md-header__button md-logo" aria-label="Wildcard Match Documentation"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m19 2-5 4.5v11l5-4.5zM6.5 5C4.55 5 2.45 5.4 1 6.5v14.66c0 .25.25.5.5.5.1 0 .15-.07.25-.07 1.35-.65 3.3-1.09 4.75-1.09 1.95 0 4.05.4 5.5 1.5 1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.31 4.75 1.06.1.05.15.03.25.03.25 0 .5-.25.5-.5V6.5c-.6-.45-1.25-.75-2-1V19c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5V6.5C10.55 5.4 8.45 5 6.5 5"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Wildcard Match Documentation </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Usage </span> </div> </div> </div> <div class=md-header__options> <div class="md-header-nav__scheme md-header-nav__button md-source__icon md-icon"> <a href=javascript:toggleScheme(); title="Light mode" class=light-mode> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg> </a> <a href=javascript:toggleScheme(); title="Dark mode" class=dark-mode> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg> </a> <a href=javascript:toggleScheme(); title="System preference" class=system-mode> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M7.5 2c-1.79 1.15-3 3.18-3 5.5s1.21 4.35 3.03 5.5C4.46 13 2 10.54 2 7.5A5.5 5.5 0 0 1 7.5 2m11.57 1.5 1.43 1.43L4.93 20.5 3.5 19.07zm-6.18 2.43L11.41 5 9.97 6l.42-1.7L9 3.24l1.75-.12.58-1.65L12 3.1l1.73.03-1.35 1.13zm-3.3 3.61-1.16-.73-1.12.78.34-1.32-1.09-.83 1.36-.09.45-1.29.51 1.27 1.36.03-1.05.87zM19 13.5a5.5 5.5 0 0 1-5.5 5.5c-1.22 0-2.35-.4-3.26-1.07l7.69-7.69c.67.91 1.07 2.04 1.07 3.26m-4.4 6.58 2.77-1.15-.24 3.35zm4.33-2.7 1.15-2.77 2.2 2.54zm1.15-4.96-1.14-2.78 3.34.24zM9.63 18.93l2.77 1.15-2.53 2.19z"/></svg> </a> <a href=javascript:toggleScheme(); title="Unknown scheme" class=unknown-mode> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m15.07 11.25-.9.92C13.45 12.89 13 13.5 13 15h-2v-.5c0-1.11.45-2.11 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41a2 2 0 0 0-2-2 2 2 0 0 0-2 2H8a4 4 0 0 1 4-4 4 4 0 0 1 4 4 3.2 3.2 0 0 1-.93 2.25M13 19h-2v-2h2M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10c0-5.53-4.5-10-10-10"/></svg> </a> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/facelessuser/wcmatch title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../fnmatch/ class=md-tabs__link> Fnmatch </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=./ class=md-tabs__link> Glob </a> </li> <li class=md-tabs__item> <a href=../pathlib/ class=md-tabs__link> Pathlib </a> </li> <li class=md-tabs__item> <a href=../wcmatch/ class=md-tabs__link> Wcmatch </a> </li> <li class=md-tabs__item> <a href=../about/contributing/ class=md-tabs__link> About </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=.. title="Wildcard Match Documentation" class="md-nav__button md-logo" aria-label="Wildcard Match Documentation" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m19 2-5 4.5v11l5-4.5zM6.5 5C4.55 5 2.45 5.4 1 6.5v14.66c0 .25.25.5.5.5.1 0 .15-.07.25-.07 1.35-.65 3.3-1.09 4.75-1.09 1.95 0 4.05.4 5.5 1.5 1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.31 4.75 1.06.1.05.15.03.25.03.25 0 .5-.25.5-.5V6.5c-.6-.45-1.25-.75-2-1V19c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5V6.5C10.55 5.4 8.45 5 6.5 5"/></svg> </a> Wildcard Match Documentation </label> <div class=md-nav__source> <a href=https://github.com/facelessuser/wcmatch title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_1> <div class="md-nav__link md-nav__container"> <a href=.. class="md-nav__link "> <span class=md-ellipsis> Home </span> </a> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_1_label aria-expanded=false> <label class=md-nav__title for=__nav_1> <span class="md-nav__icon md-icon"></span> Home </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> <span class=md-ellipsis> Fnmatch </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Fnmatch </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../fnmatch/ class=md-nav__link> <span class=md-ellipsis> Usage </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3 checked> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex> <span class=md-ellipsis> Glob </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=true> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Glob </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Usage </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Usage </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#syntax class=md-nav__link> <span class=md-ellipsis> Syntax </span> </a> </li> <li class=md-nav__item> <a href=#posix-character-classes class=md-nav__link> <span class=md-ellipsis> POSIX Character Classes </span> </a> </li> <li class=md-nav__item> <a href=#windows-separators class=md-nav__link> <span class=md-ellipsis> Windows Separators </span> </a> </li> <li class=md-nav__item> <a href=#multi-pattern-limits class=md-nav__link> <span class=md-ellipsis> Multi-Pattern Limits </span> </a> </li> <li class=md-nav__item> <a href=#precompiling class=md-nav__link> <span class=md-ellipsis> Precompiling </span> </a> </li> <li class=md-nav__item> <a href=#api class=md-nav__link> <span class=md-ellipsis> API </span> </a> <nav class=md-nav aria-label=API> <ul class=md-nav__list> <li class=md-nav__item> <a href=#glob class=md-nav__link> <span class=md-ellipsis> glob.glob </span> </a> </li> <li class=md-nav__item> <a href=#iglob class=md-nav__link> <span class=md-ellipsis> glob.iglob </span> </a> </li> <li class=md-nav__item> <a href=#globmatch class=md-nav__link> <span class=md-ellipsis> glob.globmatch </span> </a> </li> <li class=md-nav__item> <a href=#globfilter class=md-nav__link> <span class=md-ellipsis> glob.globfilter </span> </a> </li> <li class=md-nav__item> <a href=#translate class=md-nav__link> <span class=md-ellipsis> glob.translate </span> </a> </li> <li class=md-nav__item> <a href=#compile class=md-nav__link> <span class=md-ellipsis> glob.compile </span> </a> </li> <li class=md-nav__item> <a href=#wcmatcher class=md-nav__link> <span class=md-ellipsis> glob.WcMatcher </span> </a> </li> <li class=md-nav__item> <a href=#escape class=md-nav__link> <span class=md-ellipsis> glob.escape </span> </a> </li> <li class=md-nav__item> <a href=#is_magic class=md-nav__link> <span class=md-ellipsis> glob.is_magic </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#flags class=md-nav__link> <span class=md-ellipsis> Flags </span> </a> <nav class=md-nav aria-label=Flags> <ul class=md-nav__list> <li class=md-nav__item> <a href=#case class=md-nav__link> <span class=md-ellipsis> glob.CASE, glob.C </span> </a> </li> <li class=md-nav__item> <a href=#ignorecase class=md-nav__link> <span class=md-ellipsis> glob.IGNORECASE, glob.I </span> </a> </li> <li class=md-nav__item> <a href=#rawchars class=md-nav__link> <span class=md-ellipsis> glob.RAWCHARS, glob.R </span> </a> </li> <li class=md-nav__item> <a href=#negate class=md-nav__link> <span class=md-ellipsis> glob.NEGATE, glob.N </span> </a> </li> <li class=md-nav__item> <a href=#negateall class=md-nav__link> <span class=md-ellipsis> glob.NEGATEALL, glob.A </span> </a> </li> <li class=md-nav__item> <a href=#minusnegate class=md-nav__link> <span class=md-ellipsis> glob.MINUSNEGATE, glob.M </span> </a> </li> <li class=md-nav__item> <a href=#globstar class=md-nav__link> <span class=md-ellipsis> glob.GLOBSTAR, glob.G </span> </a> </li> <li class=md-nav__item> <a href=#globstarlong class=md-nav__link> <span class=md-ellipsis> glob.GLOBSTARLONG, glob.GL </span> </a> </li> <li class=md-nav__item> <a href=#follow class=md-nav__link> <span class=md-ellipsis> glob.FOLLOW, glob.L </span> </a> </li> <li class=md-nav__item> <a href=#realpath class=md-nav__link> <span class=md-ellipsis> glob.REALPATH, glob.P </span> </a> </li> <li class=md-nav__item> <a href=#dotglob class=md-nav__link> <span class=md-ellipsis> glob.DOTGLOB, glob.D </span> </a> </li> <li class=md-nav__item> <a href=#globnodotdir class=md-nav__link> <span class=md-ellipsis> glob.NODOTDIR, glob.Z </span> </a> </li> <li class=md-nav__item> <a href=#scandotdir class=md-nav__link> <span class=md-ellipsis> glob.SCANDOTDIR, glob.SD </span> </a> </li> <li class=md-nav__item> <a href=#extglob class=md-nav__link> <span class=md-ellipsis> glob.EXTGLOB, glob.E </span> </a> </li> <li class=md-nav__item> <a href=#brace class=md-nav__link> <span class=md-ellipsis> glob.BRACE, glob.B </span> </a> </li> <li class=md-nav__item> <a href=#split class=md-nav__link> <span class=md-ellipsis> glob.SPLIT, glob.S </span> </a> </li> <li class=md-nav__item> <a href=#nounique class=md-nav__link> <span class=md-ellipsis> glob.NOUNIQUE, glob.Q </span> </a> </li> <li class=md-nav__item> <a href=#globtilde class=md-nav__link> <span class=md-ellipsis> glob.GLOBTILDE, glob.T </span> </a> </li> <li class=md-nav__item> <a href=#mark class=md-nav__link> <span class=md-ellipsis> glob.MARK, glob.K </span> </a> </li> <li class=md-nav__item> <a href=#matchbase class=md-nav__link> <span class=md-ellipsis> glob.MATCHBASE, glob.X </span> </a> </li> <li class=md-nav__item> <a href=#nodir class=md-nav__link> <span class=md-ellipsis> glob.NODIR, glob.O </span> </a> </li> <li class=md-nav__item> <a href=#forcewin class=md-nav__link> <span class=md-ellipsis> glob.FORCEWIN, glob.W </span> </a> </li> <li class=md-nav__item> <a href=#forceunix class=md-nav__link> <span class=md-ellipsis> glob.FORCEUNIX, glob.U </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex=0> <span class=md-ellipsis> Pathlib </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Pathlib </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../pathlib/ class=md-nav__link> <span class=md-ellipsis> Usage </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex=0> <span class=md-ellipsis> Wcmatch </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Wcmatch </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../wcmatch/ class=md-nav__link> <span class=md-ellipsis> Usage </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6 id=__nav_6_label tabindex=0> <span class=md-ellipsis> About </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> About </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../about/contributing/ class=md-nav__link> <span class=md-ellipsis> Contributing &amp; Support </span> </a> </li> <li class=md-nav__item> <a href=../about/changelog/ class=md-nav__link> <span class=md-ellipsis> Changelog </span> </a> </li> <li class=md-nav__item> <a href=../about/release/ class=md-nav__link> <span class=md-ellipsis> Release Notes </span> </a> </li> <li class=md-nav__item> <a href=../about/license/ class=md-nav__link> <span class=md-ellipsis> License </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#syntax class=md-nav__link> <span class=md-ellipsis> Syntax </span> </a> </li> <li class=md-nav__item> <a href=#posix-character-classes class=md-nav__link> <span class=md-ellipsis> POSIX Character Classes </span> </a> </li> <li class=md-nav__item> <a href=#windows-separators class=md-nav__link> <span class=md-ellipsis> Windows Separators </span> </a> </li> <li class=md-nav__item> <a href=#multi-pattern-limits class=md-nav__link> <span class=md-ellipsis> Multi-Pattern Limits </span> </a> </li> <li class=md-nav__item> <a href=#precompiling class=md-nav__link> <span class=md-ellipsis> Precompiling </span> </a> </li> <li class=md-nav__item> <a href=#api class=md-nav__link> <span class=md-ellipsis> API </span> </a> <nav class=md-nav aria-label=API> <ul class=md-nav__list> <li class=md-nav__item> <a href=#glob class=md-nav__link> <span class=md-ellipsis> glob.glob </span> </a> </li> <li class=md-nav__item> <a href=#iglob class=md-nav__link> <span class=md-ellipsis> glob.iglob </span> </a> </li> <li class=md-nav__item> <a href=#globmatch class=md-nav__link> <span class=md-ellipsis> glob.globmatch </span> </a> </li> <li class=md-nav__item> <a href=#globfilter class=md-nav__link> <span class=md-ellipsis> glob.globfilter </span> </a> </li> <li class=md-nav__item> <a href=#translate class=md-nav__link> <span class=md-ellipsis> glob.translate </span> </a> </li> <li class=md-nav__item> <a href=#compile class=md-nav__link> <span class=md-ellipsis> glob.compile </span> </a> </li> <li class=md-nav__item> <a href=#wcmatcher class=md-nav__link> <span class=md-ellipsis> glob.WcMatcher </span> </a> </li> <li class=md-nav__item> <a href=#escape class=md-nav__link> <span class=md-ellipsis> glob.escape </span> </a> </li> <li class=md-nav__item> <a href=#is_magic class=md-nav__link> <span class=md-ellipsis> glob.is_magic </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#flags class=md-nav__link> <span class=md-ellipsis> Flags </span> </a> <nav class=md-nav aria-label=Flags> <ul class=md-nav__list> <li class=md-nav__item> <a href=#case class=md-nav__link> <span class=md-ellipsis> glob.CASE, glob.C </span> </a> </li> <li class=md-nav__item> <a href=#ignorecase class=md-nav__link> <span class=md-ellipsis> glob.IGNORECASE, glob.I </span> </a> </li> <li class=md-nav__item> <a href=#rawchars class=md-nav__link> <span class=md-ellipsis> glob.RAWCHARS, glob.R </span> </a> </li> <li class=md-nav__item> <a href=#negate class=md-nav__link> <span class=md-ellipsis> glob.NEGATE, glob.N </span> </a> </li> <li class=md-nav__item> <a href=#negateall class=md-nav__link> <span class=md-ellipsis> glob.NEGATEALL, glob.A </span> </a> </li> <li class=md-nav__item> <a href=#minusnegate class=md-nav__link> <span class=md-ellipsis> glob.MINUSNEGATE, glob.M </span> </a> </li> <li class=md-nav__item> <a href=#globstar class=md-nav__link> <span class=md-ellipsis> glob.GLOBSTAR, glob.G </span> </a> </li> <li class=md-nav__item> <a href=#globstarlong class=md-nav__link> <span class=md-ellipsis> glob.GLOBSTARLONG, glob.GL </span> </a> </li> <li class=md-nav__item> <a href=#follow class=md-nav__link> <span class=md-ellipsis> glob.FOLLOW, glob.L </span> </a> </li> <li class=md-nav__item> <a href=#realpath class=md-nav__link> <span class=md-ellipsis> glob.REALPATH, glob.P </span> </a> </li> <li class=md-nav__item> <a href=#dotglob class=md-nav__link> <span class=md-ellipsis> glob.DOTGLOB, glob.D </span> </a> </li> <li class=md-nav__item> <a href=#globnodotdir class=md-nav__link> <span class=md-ellipsis> glob.NODOTDIR, glob.Z </span> </a> </li> <li class=md-nav__item> <a href=#scandotdir class=md-nav__link> <span class=md-ellipsis> glob.SCANDOTDIR, glob.SD </span> </a> </li> <li class=md-nav__item> <a href=#extglob class=md-nav__link> <span class=md-ellipsis> glob.EXTGLOB, glob.E </span> </a> </li> <li class=md-nav__item> <a href=#brace class=md-nav__link> <span class=md-ellipsis> glob.BRACE, glob.B </span> </a> </li> <li class=md-nav__item> <a href=#split class=md-nav__link> <span class=md-ellipsis> glob.SPLIT, glob.S </span> </a> </li> <li class=md-nav__item> <a href=#nounique class=md-nav__link> <span class=md-ellipsis> glob.NOUNIQUE, glob.Q </span> </a> </li> <li class=md-nav__item> <a href=#globtilde class=md-nav__link> <span class=md-ellipsis> glob.GLOBTILDE, glob.T </span> </a> </li> <li class=md-nav__item> <a href=#mark class=md-nav__link> <span class=md-ellipsis> glob.MARK, glob.K </span> </a> </li> <li class=md-nav__item> <a href=#matchbase class=md-nav__link> <span class=md-ellipsis> glob.MATCHBASE, glob.X </span> </a> </li> <li class=md-nav__item> <a href=#nodir class=md-nav__link> <span class=md-ellipsis> glob.NODIR, glob.O </span> </a> </li> <li class=md-nav__item> <a href=#forcewin class=md-nav__link> <span class=md-ellipsis> glob.FORCEWIN, glob.W </span> </a> </li> <li class=md-nav__item> <a href=#forceunix class=md-nav__link> <span class=md-ellipsis> glob.FORCEUNIX, glob.U </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=wcmatchglob><code>wcmatch.glob</code><a class=headerlink href=#wcmatchglob title="Permanent link"></a></h1> <div class=highlight><pre><span></span><code><span class=kn>from</span><span class=w> </span><span class=nn>wcmatch</span><span class=w> </span><span class=kn>import</span> <span class=n>glob</span>
</code></pre></div> <h2 id=syntax>Syntax<a class=headerlink href=#syntax title="Permanent link"></a></h2> <p>The <code>glob</code> library provides methods for traversing the file system and returning files that matched a defined set of glob patterns. The library also provides a function called <a href=#globmatch><code>globmatch</code></a> for matching file paths which is similar to <a href=../fnmatch/#fnmatch><code>fnmatch</code></a>, but for paths. In short, <a href=#globmatch><code>globmatch</code></a> matches what <a href=#glob><code>glob</code></a> globs <img alt=ðŸ™‚ class=twemoji src=https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f642.svg title=:slight_smile:>.</p> <div class="admonition tip"> <p class=admonition-title>Tip</p> <p>When using backslashes, it is helpful to use raw strings. In a raw string, a single backslash is used to escape a character <code class=highlight><span class=sa>r</span><span class=s1>&#39;\?&#39;</span></code>. If you want to represent a literal backslash, you must use two: <code class=highlight><span class=sa>r</span><span class=s1>&#39;some</span><span class=se>\\</span><span class=s1>path&#39;</span></code>.</p> </div> <table> <thead> <tr> <th>Pattern</th> <th>Meaning</th> </tr> </thead> <tbody> <tr> <td><code>*</code></td> <td>Matches everything except slashes. On Windows it will avoid matching backslashes as well as slashes.</td> </tr> <tr> <td><code>**</code></td> <td>Matches zero or more directories, but will never match the directories <code>.</code> and <code>..</code>. Requires the <a href=#globstar><code>GLOBSTAR</code></a> flag.</td> </tr> <tr> <td><code>***</code></td> <td>Like <code>**</code> but will also recurse symlinks. Requires the <a href=#globstarlong><code>GLOBSTARLONG</code></a> flag.</td> </tr> <tr> <td><code>?</code></td> <td>Matches any single character.</td> </tr> <tr> <td><code>[seq]</code></td> <td>Matches any character in seq.</td> </tr> <tr> <td><code>[!seq]</code></td> <td>Matches any character not in seq. Will also accept character exclusions in the form of <code>[^seq]</code>.</td> </tr> <tr> <td><code>[[:alnum:]]</code></td> <td>POSIX style character classes inside sequences. See <a href=#posix-character-classes>POSIX Character Classes</a> for more info.</td> </tr> <tr> <td><code>\</code></td> <td>Escapes characters. If applied to a meta character or non-meta characters, the character will be treated as a literal character. If applied to another escape, the backslash will be a literal backslash.</td> </tr> <tr> <td><code>!</code></td> <td>When used at the start of a pattern, the pattern will be an exclusion pattern. Requires the <a href=#negate><code>NEGATE</code></a> flag. If also using the <a href=#minusnegate><code>MINUSNEGATE</code></a> flag, <code>-</code> will be used instead of <code>!</code>.</td> </tr> <tr> <td><code>?(pattern_list)</code></td> <td>The pattern matches if zero or one occurrences of any of the patterns in the <code>pattern_list</code> match the input string. Requires the <a href=#extglob><code>EXTGLOB</code></a> flag.</td> </tr> <tr> <td><code>*(pattern_list)</code></td> <td>The pattern matches if zero or more occurrences of any of the patterns in the <code>pattern_list</code> match the input string. Requires the <a href=#extglob><code>EXTGLOB</code></a> flag.</td> </tr> <tr> <td><code>+(pattern_list)</code></td> <td>The pattern matches if one or more occurrences of any of the patterns in the <code>pattern_list</code> match the input string. Requires the <a href=#extglob><code>EXTGLOB</code></a> flag.</td> </tr> <tr> <td><code>@(pattern_list)</code></td> <td>The pattern matches if exactly one occurrence of any of the patterns in the <code>pattern_list</code> match the input string. Requires the <a href=#extglob><code>EXTGLOB</code></a> flag.</td> </tr> <tr> <td><code>!(pattern_list)</code></td> <td>The pattern matches if the input string cannot be matched with any of the patterns in the <code>pattern_list</code>. Requires the <a href=#extglob><code>EXTGLOB</code></a> flag.</td> </tr> <tr> <td><code>{}</code></td> <td>Bash style brace expansions. This is applied to patterns before anything else. Requires the <a href=#brace><code>BRACE</code></a> flag.</td> </tr> <tr> <td><code>~/pattern</code></td> <td>User path expansion via <code>~/pattern</code> or <code>~user/pattern</code>. Requires the <a href=#globtilde><code>GLOBTILDE</code></a> flag.</td> </tr> </tbody> </table> <ul> <li> <p>Slashes are generally treated special in glob related methods. Slashes are not matched in <code>[]</code>, <code>*</code>, <code>?</code>, or extended patterns like <code>*(...)</code>. Slashes can be matched by <code>**</code> if <a href=#globstar><code>GLOBSTAR</code></a> is set.</p> </li> <li> <p>Slashes on Windows are normalized. <code>/</code> will match both <code>/</code> and <code>\\</code>. There is no need to explicitly use <code>\\</code> in patterns on Windows, but if you do, they must be escaped to specify a literal <code>\\</code>. If a backslash is escaped, it will match all valid windows separators, just like <code>/</code> does.</p> </li> <li> <p>On Windows, drives are treated special and must come at the beginning of the pattern and cannot be matched with <code>*</code>, <code>[]</code>, <code>?</code>, or even extended match patterns like <code>+(...)</code>.</p> </li> <li> <p>Windows drives are recognized as either <code>C:/</code> and <code>//Server/mount/</code>. If a path uses an ambiguous root (<code>/some/path</code>), the system will assume the drive of the current working directory.</p> </li> <li> <p>Meta characters have no effect when inside a UNC path: <code>//Server?/mount*/</code>. The one exception is pattern expansion characters like <code>{}</code> which are used by <a href=#brace>brace expansion</a> and <code>|</code> used by <a href=#split>pattern splitting</a>. Pattern expansion characters are the only characters that can be escaped in a Windows drive/mount.</p> </li> <li> <p>If <a href=#forceunix><code>FORCEUNIX</code></a> is applied on a Windows system, match and filter commands that do not touch the file system will <strong>not</strong> have slashes normalized. In addition, drive letters will also not be handled. Essentially, paths will be treated as if on a Linux/Unix system. Commands that do touch the file system (<a href=#glob><code>glob</code></a> and <a href=#iglob><code>iglob</code></a>) will ignore <a href=#forceunix><code>FORCEUNIX</code></a> and <a href=#forcewin><code>FORCEWIN</code></a>. <a href=#globmatch><code>globmatch</code></a> and <a href=#globfilter><code>globfilter</code></a>, will also ignore <a href=#forceunix><code>FORCEUNIX</code></a> and <a href=#forcewin><code>FORCEWIN</code></a> if the <a href=#realpath><code>REALPATH</code></a> flag is enabled.</p> <p><a href=#forcewin><code>FORCEWIN</code></a> will do the opposite on a Linux/Unix system, and will force Windows logic on a Linux/Unix system. Like with <a href=#forceunix><code>FORCEUNIX</code></a>, it only applies to commands that don't touch the file system.</p> </li> <li> <p>By default, file and directory names starting with <code>.</code> are only matched with literal <code>.</code>. The patterns <code>*</code>, <code>**</code>, <code>?</code>, and <code>[]</code> will not match a leading <code>.</code>. To alter this behavior, you can use the <a href=#dotglob><code>DOTGLOB</code></a> flag.</p> </li> <li> <p><a href=#negate><code>NEGATE</code></a> will always enable <a href=#dotglob><code>DOTGLOB</code></a> in exclude patterns.</p> </li> <li> <p>Even with <a href=#dotglob><code>DOTGLOB</code></a> enabled, special tokens will not match a special directory (<code>.</code> or <code>..</code>). But when a literal <code>.</code> is used at the start of the pattern (<code>.*</code>, <code>.</code>, <code>..</code>, etc.), <code>.</code> and <code>..</code> can potentially be matched.</p> </li> <li> <p>In general, Wildcard Match's behavior is modeled off of Bash's, and prior to version 7.0, unlike Python's default <a href=https://docs.python.org/3/library/glob.html><code>glob</code></a>, Wildcard Match's <a href=#glob><code>glob</code></a> would match and return <code>.</code> and <code>..</code> for magic patterns like <code>.*</code>. This is because our directory scanning logic inserts <code>.</code> and <code>..</code> into results to be faithful to Bash. While this emulates Bash's behavior, it can be surprising to the user, especially if they are used to Python's default glob. In 7.0 we now avoid returning <code>.</code> and <code>..</code> in our directory scanner. This does not affect how patterns are matched, just what is returned via our directory scan logic. You can once again enable the old Bash-like behavior with the flag <a href=#scandotdir><code>SCANDOTDIR</code></a> if this old behavior is desired.</p> <p>Python's default:</p> <div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=kn>import</span><span class=w> </span><span class=nn>glob</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>glob</span><span class=o>.</span><span class=n>glob</span><span class=p>(</span><span class=s1>&#39;docs/.*&#39;</span><span class=p>)</span>
<span class=go>[]</span>
</code></pre></div> <p>Wildcard Match:</p> <div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=kn>from</span><span class=w> </span><span class=nn>wcmatch</span><span class=w> </span><span class=kn>import</span> <span class=n>glob</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>glob</span><span class=o>.</span><span class=n>glob</span><span class=p>(</span><span class=s1>&#39;docs/.*&#39;</span><span class=p>)</span>
<span class=go>[]</span>
</code></pre></div> <p>Bash:</p> <div class=highlight><pre><span></span><code><span class=gp>$ </span><span class=nb>echo</span><span class=w> </span>docs/.*
<span class=go>docs/. docs/..</span>
</code></pre></div> <p>Bash-like behavior restored in Wildcard Match <a href=#scandotdir><code>SCANDOTDIR</code></a>:</p> <div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=kn>from</span><span class=w> </span><span class=nn>wcmatch</span><span class=w> </span><span class=kn>import</span> <span class=n>glob</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>glob</span><span class=o>.</span><span class=n>glob</span><span class=p>(</span><span class=s1>&#39;docs/.*&#39;</span><span class=p>,</span> <span class=n>flags</span><span class=o>=</span><span class=n>glob</span><span class=o>.</span><span class=n>SCANDOTDIR</span><span class=p>)</span>
<span class=go>[&#39;docs/.&#39;, &#39;docs/..&#39;]</span>
</code></pre></div> <p>It is important to stress that this logic only relates to directory scanning and does not fundamentally alter glob patterns. We can still match a path of <code>..</code> with <code>.*</code> when strictly doing a match:</p> <div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=kn>from</span><span class=w> </span><span class=nn>wcmatch</span><span class=w> </span><span class=kn>import</span> <span class=n>glob</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>glob</span><span class=o>.</span><span class=n>globmatch</span><span class=p>(</span><span class=s1>&#39;..&#39;</span><span class=p>,</span> <span class=s1>&#39;.*&#39;</span><span class=p>)</span>
<span class=go>True</span>
</code></pre></div> <p>Nor does it affect exclude results as they are used to filter the results after directory scanning:</p> <div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=kn>from</span><span class=w> </span><span class=nn>wcmatch</span><span class=w> </span><span class=kn>import</span> <span class=n>glob</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>glob</span><span class=o>.</span><span class=n>glob</span><span class=p>(</span><span class=s1>&#39;..&#39;</span><span class=p>)</span>
<span class=go>[&#39;..&#39;]</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>glob</span><span class=o>.</span><span class=n>glob</span><span class=p>([</span><span class=s1>&#39;..&#39;</span><span class=p>,</span> <span class=s1>&#39;!.*&#39;</span><span class=p>],</span> <span class=n>flags</span><span class=o>=</span><span class=n>glob</span><span class=o>.</span><span class=n>NEGATE</span><span class=p>)</span>
<span class=go>[]</span>
</code></pre></div> <p>If we wish to fundamentally alter the pattern matching behavior, we can use <a href=#nodotdir><code>NODOTDIR</code></a>. This would provide a more Zsh feel.</p> <div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=kn>from</span><span class=w> </span><span class=nn>wcmatch</span><span class=w> </span><span class=kn>import</span> <span class=n>glob</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>glob</span><span class=o>.</span><span class=n>glob</span><span class=p>([</span><span class=s1>&#39;..&#39;</span><span class=p>,</span> <span class=s1>&#39;!.*&#39;</span><span class=p>],</span> <span class=n>flags</span><span class=o>=</span><span class=n>glob</span><span class=o>.</span><span class=n>NEGATE</span> <span class=o>|</span> <span class=n>glob</span><span class=o>.</span><span class=n>NODOTDIR</span><span class=p>)</span>
<span class=go>[&#39;..&#39;]</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>glob</span><span class=o>.</span><span class=n>glob</span><span class=p>([</span><span class=s1>&#39;..&#39;</span><span class=p>,</span> <span class=s1>&#39;!..&#39;</span><span class=p>],</span> <span class=n>flags</span><span class=o>=</span><span class=n>glob</span><span class=o>.</span><span class=n>NEGATE</span> <span class=o>|</span> <span class=n>glob</span><span class=o>.</span><span class=n>NODOTDIR</span><span class=p>)</span>
<span class=go>[]</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>glob</span><span class=o>.</span><span class=n>globmatch</span><span class=p>(</span><span class=s1>&#39;..&#39;</span><span class=p>,</span> <span class=s1>&#39;.*&#39;</span><span class=p>,</span> <span class=n>flags</span><span class=o>=</span><span class=n>glob</span><span class=o>.</span><span class=n>NODOTDIR</span><span class=p>)</span>
<span class=go>False</span>
</code></pre></div> <div class="admonition new"> <p class=admonition-title>Changes 7.0</p> <p>Prior to 7.0 <code>.</code> and <code>..</code> would get returned by our directory scanner. This is no longer the default.</p> </div> <div class="admonition new"> <p class=admonition-title>New 7.0</p> <p>Legacy behavior of directory scanning, in relation to <code>.</code> and <code>..</code>, can be restored via <a href=#scandotdir><code>SCANDOTDIR</code></a>.</p> <p><a href=#nodotdir><code>NODOTDIR</code></a> was added in 7.0.</p> </div> </li> </ul> <h2 id=posix-character-classes>POSIX Character Classes<a class=headerlink href=#posix-character-classes title="Permanent link"></a></h2> <p>A number of POSIX style character classes are available in the form <code>[:alnum:]</code>. They must be used inside sequences: <code>[[:digit:]]</code>. The <code>C</code> locale is used, and the values for each character class are found in the table below.</p> <table> <thead> <tr> <th>Property</th> <th>Pattern</th> </tr> </thead> <tbody> <tr> <td><code>alnum</code></td> <td><code>[a-zA-Z0-9]</code></td> </tr> <tr> <td><code>alpha</code></td> <td><code>[a-zA-Z]</code></td> </tr> <tr> <td><code>ascii</code></td> <td><code>[\x00-\x7F]</code></td> </tr> <tr> <td><code>blank</code></td> <td><code>[ \t]</code></td> </tr> <tr> <td><code>cntrl</code></td> <td><code>[\x00-\x1F\x7F]</code></td> </tr> <tr> <td><code>digit</code></td> <td><code>[0-9]</code></td> </tr> <tr> <td><code>graph</code></td> <td><code>[\x21-\x7E]</code></td> </tr> <tr> <td><code>lower</code></td> <td><code>[a-z]</code></td> </tr> <tr> <td><code>print</code></td> <td><code>[\x20-\x7E]</code></td> </tr> <tr> <td><code>punct</code></td> <td><code>[!\"\#$%&amp;'()*+,\-./:;&lt;=&gt;?@\[\\\]^_`{}~]</code></td> </tr> <tr> <td><code>space</code></td> <td><code>[ \t\r\n\v\f]</code></td> </tr> <tr> <td><code>upper</code></td> <td><code>[A-Z]</code></td> </tr> <tr> <td><code>word</code></td> <td><code>[a-zA-Z0-9_]</code></td> </tr> <tr> <td><code>xdigit</code></td> <td><code>[A-Fa-f0-9]</code></td> </tr> </tbody> </table> <h2 id=windows-separators>Windows Separators<a class=headerlink href=#windows-separators title="Permanent link"></a></h2> <p>On Windows, it is not required to use backslashes for path separators as <code>/</code> will match path separators for all systems. The following will work on Windows and Linux/Unix systems.</p> <div class=highlight><pre><span></span><code><span class=n>glob</span><span class=o>.</span><span class=n>glob</span><span class=p>(</span><span class=s1>&#39;docs/.*&#39;</span><span class=p>)</span>
</code></pre></div> <p>With that said, you can match Windows separators with backslashes as well. Keep in mind that Wildcard Match allows escaped characters in patterns, so to match a literal backslash separator, you must escape the backslash. It is advised to use raw strings when using backslashes to make the patterns more readable, but either of the below will work.</p> <div class=highlight><pre><span></span><code><span class=n>glob</span><span class=o>.</span><span class=n>glob</span><span class=p>(</span><span class=sa>r</span><span class=s1>&#39;docs</span><span class=se>\\</span><span class=s1>.*&#39;</span><span class=p>)</span>
<span class=n>glob</span><span class=o>.</span><span class=n>glob</span><span class=p>(</span><span class=s1>&#39;docs</span><span class=se>\\\\</span><span class=s1>.*&#39;</span><span class=p>)</span>
</code></pre></div> <h2 id=multi-pattern-limits>Multi-Pattern Limits<a class=headerlink href=#multi-pattern-limits title="Permanent link"></a></h2> <p>Many of the API functions allow passing in multiple patterns or using either <a href=#brace><code>BRACE</code></a> or <a href=#split><code>SPLIT</code></a> to expand a pattern in to more patterns. The number of allowed patterns is limited <code>1000</code>, but you can raise or lower this limit via the keyword option <code>limit</code>. If you set <code>limit</code> to <code>0</code>, there will be no limit.</p> <div class="admonition new"> <p class=admonition-title>New 6.0</p> <p>The imposed pattern limit and corresponding <code>limit</code> option was introduced in 6.0.</p> </div> <h2 id=precompiling>Precompiling<a class=headerlink href=#precompiling title="Permanent link"></a></h2> <p>While patterns are often cached, auto expanding patterns, such as <code>'file{a, b, c}'</code> will have each individual permutation cached (up to the cache limit), but not the entire pattern. This is to prevent the cache from exploding with really large patterns such as <code>{1..100}</code>. Essentially, individual patterns are cached, but not the expansion of a pattern into many patterns.</p> <p>If it is planned to reuse a pattern and the performance hit of recompiling is not desired, you can precompile a matcher object via <a href=#compile><code>glob.compile</code></a> which returns a <a href=#wcmatcher><code>WcMatcher</code></a> object.</p> <div class=highlight><pre><span></span><code><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>wcmatch.glob</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>glob</span>
<span class=o>&gt;&gt;&gt;</span> <span class=n>m</span> <span class=o>=</span> <span class=n>glob</span><span class=o>.</span><span class=n>compile</span><span class=p>(</span><span class=s1>&#39;**/*.py&#39;</span><span class=p>,</span> <span class=n>flags</span><span class=o>=</span><span class=n>glob</span><span class=o>.</span><span class=n>GLOBSTAR</span><span class=p>)</span>
<span class=o>&gt;&gt;&gt;</span> <span class=n>m</span><span class=o>.</span><span class=n>match</span><span class=p>(</span><span class=s1>&#39;wcmatch/__init__.py&#39;</span><span class=p>)</span>
<span class=kc>True</span>
<span class=o>&gt;&gt;&gt;</span> <span class=n>m</span><span class=o>.</span><span class=n>filter</span><span class=p>([</span><span class=s1>&#39;wcmatch/__init__.py&#39;</span><span class=p>,</span> <span class=s1>&#39;wcmatch/glob.py&#39;</span><span class=p>,</span> <span class=s1>&#39;README.md&#39;</span><span class=p>])</span>
<span class=p>[</span><span class=s1>&#39;wcmatch/__init__.py&#39;</span><span class=p>,</span> <span class=s1>&#39;wcmatch/glob.py&#39;</span><span class=p>]</span>
</code></pre></div> <h2 id=api>API<a class=headerlink href=#api title="Permanent link"></a></h2> <h4 id=glob><code>glob.glob</code><a class=headerlink href=#glob title="Permanent link"></a></h4> <div class=highlight><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>glob</span><span class=p>(</span><span class=n>patterns</span><span class=p>,</span> <span class=o>*</span><span class=p>,</span> <span class=n>flags</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>root_dir</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>dir_fd</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>limit</span><span class=o>=</span><span class=mi>1000</span><span class=p>,</span> <span class=n>exclude</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
</code></pre></div> <p><code>glob</code> takes a pattern (or list of patterns), flags, and an optional root directory (string or path-like object) and/or directory file descriptor. It also allows configuring the <a href=#multi-pattern-limits>max pattern limit</a>. Exclusion patterns can be specified via the <code>exclude</code> parameter which takes a pattern or a list of patterns.When executed it will crawl the file system returning matching files.</p> <div class="admonition warning"> <p class=admonition-title>Path-like Input Support</p> <p>Path-like object input support is only available in Python 3.6+ as the path-like protocol was added in Python 3.6.</p> </div> <div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=kn>from</span><span class=w> </span><span class=nn>wcmatch</span><span class=w> </span><span class=kn>import</span> <span class=n>glob</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>glob</span><span class=o>.</span><span class=n>glob</span><span class=p>(</span><span class=s1>&#39;**/*.md&#39;</span><span class=p>)</span>
<span class=go>[&#39;docs/src/markdown/_snippets/abbr.md&#39;, &#39;docs/src/markdown/_snippets/links.md&#39;, &#39;docs/src/markdown/_snippets/refs.md&#39;, &#39;docs/src/markdown/changelog.md&#39;, &#39;docs/src/markdown/fnmatch.md&#39;, &#39;docs/src/markdown/glob.md&#39;, &#39;docs/src/markdown/index.md&#39;, &#39;docs/src/markdown/installation.md&#39;, &#39;docs/src/markdown/license.md&#39;, &#39;README.md&#39;]</span>
</code></pre></div> <p>Using a list, we can add exclusion patterns and also exclude directories and/or files:</p> <div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=kn>from</span><span class=w> </span><span class=nn>wcmatch</span><span class=w> </span><span class=kn>import</span> <span class=n>glob</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>glob</span><span class=o>.</span><span class=n>glob</span><span class=p>([</span><span class=s1>&#39;**/*.md&#39;</span><span class=p>,</span> <span class=s1>&#39;!README.md&#39;</span><span class=p>,</span> <span class=s1>&#39;!**/_snippets&#39;</span><span class=p>],</span> <span class=n>flags</span><span class=o>=</span><span class=n>glob</span><span class=o>.</span><span class=n>NEGATE</span><span class=p>)</span>
<span class=go>[&#39;docs/src/markdown/changelog.md&#39;, &#39;docs/src/markdown/fnmatch.md&#39;, &#39;docs/src/markdown/glob.md&#39;, &#39;docs/src/markdown/index.md&#39;, &#39;docs/src/markdown/installation.md&#39;, &#39;docs/src/markdown/license.md&#39;]</span>
</code></pre></div> <p>When a glob pattern ends with a slash, it will only return directories:</p> <div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=kn>from</span><span class=w> </span><span class=nn>wcmatch</span><span class=w> </span><span class=kn>import</span> <span class=n>glob</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>glob</span><span class=o>.</span><span class=n>glob</span><span class=p>(</span><span class=s1>&#39;**/&#39;</span><span class=p>)</span>
<span class=go>[&#39;__pycache__/&#39;, &#39;docs/&#39;, &#39;docs/src/&#39;, &#39;docs/src/markdown/&#39;, &#39;docs/src/markdown/_snippets/&#39;, &#39;docs/theme/&#39;, &#39;requirements/&#39;, &#39;stuff/&#39;, &#39;tests/&#39;, &#39;tests/__pycache__/&#39;, &#39;wcmatch/&#39;, &#39;wcmatch/__pycache__/&#39;]</span>
</code></pre></div> <p>When providing a list, all patterns are run in the same context, but will not be run in the same pass. Each pattern is run in a separate pass, except for exclusion patterns (see the <a href=#negate><code>NEGATE</code></a> flag) which are applied as filters to the inclusion patterns. Since each pattern is run in its own pass, it is possible for many directories to be researched multiple times. In Bash, duplicate files can be returned:</p> <div class=highlight><pre><span></span><code><span class=gp>$ </span><span class=nb>echo</span><span class=w> </span>*.md<span class=w> </span>README.md
<span class=go>LICENSE.md README.md README.md</span>
</code></pre></div> <p>And we see that Wildcard Match's <code>glob</code> behaves the same, except it only returns unique results.</p> <div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=kn>from</span><span class=w> </span><span class=nn>wcmatch</span><span class=w> </span><span class=kn>import</span> <span class=n>glob</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>glob</span><span class=o>.</span><span class=n>glob</span><span class=p>([</span><span class=s1>&#39;*.md&#39;</span><span class=p>,</span> <span class=s1>&#39;README.md&#39;</span><span class=p>])</span>
<span class=go>[&#39;LICENSE.md&#39;, &#39;README.md&#39;]</span>
</code></pre></div> <p>If we wanted to completely match Bash's results, we would turn off unique results with the <a href=#nounique><code>NOUNIQUE</code></a> flag.</p> <div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=kn>from</span><span class=w> </span><span class=nn>wcmatch</span><span class=w> </span><span class=kn>import</span> <span class=n>glob</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>glob</span><span class=o>.</span><span class=n>glob</span><span class=p>([</span><span class=s1>&#39;*.md&#39;</span><span class=p>,</span> <span class=s1>&#39;README.md&#39;</span><span class=p>],</span> <span class=n>flags</span><span class=o>=</span><span class=n>glob</span><span class=o>.</span><span class=n>NOUNIQUE</span><span class=p>)</span>
<span class=go>[&#39;LICENSE.md&#39;, &#39;README.md&#39;, &#39;README.md&#39;]</span>
</code></pre></div> <p>And if we apply an exclusion pattern, since the patterns share the same context, the exclusion applies to both:</p> <div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=kn>from</span><span class=w> </span><span class=nn>wcmatch</span><span class=w> </span><span class=kn>import</span> <span class=n>glob</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>glob</span><span class=o>.</span><span class=n>glob</span><span class=p>([</span><span class=s1>&#39;*.md&#39;</span><span class=p>,</span> <span class=p>,</span> <span class=s1>&#39;README.md&#39;</span><span class=p>,</span> <span class=s1>&#39;!README.md&#39;</span><span class=p>],</span> <span class=n>flags</span><span class=o>=</span><span class=n>glob</span><span class=o>.</span><span class=n>NEGATE</span> <span class=o>|</span> <span class=n>glob</span><span class=o>.</span><span class=n>NOUNIQUE</span><span class=p>)</span>
<span class=go>[&#39;LICENSE.md&#39;]</span>
</code></pre></div> <p>Features like <a href=#brace><code>BRACE</code></a> and <a href=#split><code>SPLIT</code></a> actually take a single string and breaks them up into multiple patterns. These features, when enabled and used, will also exhibit this behavior:</p> <div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=kn>from</span><span class=w> </span><span class=nn>wcmatch</span><span class=w> </span><span class=kn>import</span> <span class=n>glob</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>glob</span><span class=o>.</span><span class=n>glob</span><span class=p>(</span><span class=s1>&#39;{*,README}.md&#39;</span><span class=p>,</span> <span class=n>flags</span><span class=o>=</span><span class=n>glob</span><span class=o>.</span><span class=n>BRACE</span> <span class=o>|</span> <span class=n>glob</span><span class=o>.</span><span class=n>NOUNIQUE</span><span class=p>)</span>
<span class=go>[&#39;LICENSE.md&#39;, &#39;README.md&#39;, &#39;README.md&#39;]</span>
</code></pre></div> <p>This also aligns with Bash's behavior:</p> <div class=highlight><pre><span></span><code><span class=gp>$ </span><span class=nb>echo</span><span class=w> </span><span class=o>{</span>*,README<span class=o>}</span>.md
<span class=go>LICENSE.md README.md README.md</span>
</code></pre></div> <p>You can resolve user paths with <code>~</code> if the <a href=#globtilde><code>GLOBTILDE</code></a> flag is enabled. You can also target specific users with <code>~user</code>.</p> <div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=kn>from</span><span class=w> </span><span class=nn>wcmatch</span><span class=w> </span><span class=kn>import</span> <span class=n>glob</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>glob</span><span class=o>.</span><span class=n>glob</span><span class=p>(</span><span class=s1>&#39;~&#39;</span><span class=p>,</span> <span class=n>flags</span><span class=o>=</span><span class=n>glob</span><span class=o>.</span><span class=n>GLOBTILDE</span><span class=p>)</span>
<span class=go>[&#39;/home/facelessuser&#39;]</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>glob</span><span class=o>.</span><span class=n>glob</span><span class=p>(</span><span class=s1>&#39;~root&#39;</span><span class=p>,</span> <span class=n>flags</span><span class=o>=</span><span class=n>glob</span><span class=o>.</span><span class=n>GLOBTILDE</span><span class=p>)</span>
<span class=go>[&#39;/root&#39;]</span>
</code></pre></div> <p>By default, <code>glob</code> uses the current working directory to evaluate relative patterns. Normally you'd have to use <code class=highlight><span class=n>os</span><span class=o>.</span><span class=n>chdir</span><span class=p>(</span><span class=s1>&#39;/new/path&#39;</span><span class=p>)</span></code> to evaluate patterns relative to a different path. By setting <code>root_dir</code> parameter you can change the root path without using <code>os.chdir</code>.</p> <div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=kn>from</span><span class=w> </span><span class=nn>wcmatch</span><span class=w> </span><span class=kn>import</span> <span class=n>glob</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>glob</span><span class=o>.</span><span class=n>glob</span><span class=p>(</span><span class=s1>&#39;*&#39;</span><span class=p>)</span>
<span class=go>[&#39;appveyor.yml&#39;, &#39;docs&#39;, &#39;LICENSE.md&#39;, &#39;MANIFEST.in&#39;, &#39;mkdocs.yml&#39;, &#39;README.md&#39;, &#39;requirements&#39;, &#39;setup.cfg&#39;, &#39;setup.py&#39;, &#39;tests&#39;, &#39;tox.ini&#39;, &#39;wcmatch&#39;]</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>glob</span><span class=o>.</span><span class=n>glob</span><span class=p>(</span><span class=s1>&#39;*&#39;</span><span class=p>,</span> <span class=n>root_dir</span><span class=o>=</span><span class=s1>&#39;docs/src&#39;</span><span class=p>)</span>
<span class=go>[&#39;dictionary&#39;, &#39;markdown&#39;]</span>
</code></pre></div> <p>Additionally, you can use <code>dir_fd</code> and specify a root directory with a directory file descriptor.</p> <div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=kn>import</span><span class=w> </span><span class=nn>os</span>
<span class=gp>&gt;&gt;&gt; </span><span class=kn>from</span><span class=w> </span><span class=nn>wcmatch</span><span class=w> </span><span class=kn>import</span> <span class=n>glob</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>dir_fd</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>open</span><span class=p>(</span><span class=s1>&#39;docs/src&#39;</span><span class=p>,</span> <span class=n>os</span><span class=o>.</span><span class=n>O_RDONLY</span> <span class=o>|</span> <span class=n>os</span><span class=o>.</span><span class=n>O_DIRECTORY</span><span class=p>)</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>glob</span><span class=o>.</span><span class=n>glob</span><span class=p>(</span><span class=s1>&#39;*&#39;</span><span class=p>,</span> <span class=n>dir_fd</span><span class=o>=</span><span class=n>dir_fd</span><span class=p>)</span>
<span class=go>[&#39;markdown&#39;, &#39;dictionary&#39;]</span>
</code></pre></div> <div class="admonition warning"> <p class=admonition-title>Support for Directory Descriptors</p> <p>Directory descriptors may not be supported on all systems. You can check whether or not <code>dir_fd</code> is supported for a your platform referencing the attribute <code class=highlight><span class=n>glob</span><span class=o>.</span><span class=n>SUPPORT_DIR_FD</span></code> which will be <code class=highlight><span class=kc>True</span></code> if it is supported.</p> <p>Additionally, the <code class=highlight><span class=n>os</span><span class=o>.</span><span class=n>O_DIRECTORY</span></code> may not be defined on some systems. You can likely just use <code class=highlight><span class=n>os</span><span class=o>.</span><span class=n>O_RDONLY</span></code>.</p> </div> <div class="admonition new"> <p class=admonition-title>New 5.1</p> <p><code>root_dir</code> was added in 5.1.0.</p> </div> <div class="admonition new"> <p class=admonition-title>New 6.0</p> <p><code>limit</code> was added in 6.0.</p> </div> <div class="admonition new"> <p class=admonition-title>New 8.2</p> <p><code>dir_fd</code> parameter was added in 8.2.</p> </div> <div class="admonition new"> <p class=admonition-title>New 8.4</p> <p><code>exclude</code> parameter was added.</p> </div> <h4 id=iglob><code>glob.iglob</code><a class=headerlink href=#iglob title="Permanent link"></a></h4> <div class=highlight><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>iglob</span><span class=p>(</span><span class=n>patterns</span><span class=p>,</span> <span class=o>*</span><span class=p>,</span> <span class=n>flags</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>root_dir</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>dir_fd</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>limit</span><span class=o>=</span><span class=mi>1000</span><span class=p>,</span> <span class=n>exclude</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
</code></pre></div> <p><code>iglob</code> is just like <a href=#glob><code>glob</code></a> except it returns an iterator.</p> <div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=kn>from</span><span class=w> </span><span class=nn>wcmatch</span><span class=w> </span><span class=kn>import</span> <span class=n>glob</span>
<span class=gp>&gt;&gt;&gt; </span><span class=nb>list</span><span class=p>(</span><span class=n>glob</span><span class=o>.</span><span class=n>iglob</span><span class=p>(</span><span class=s1>&#39;**/*.md&#39;</span><span class=p>))</span>
<span class=go>[&#39;docs/src/markdown/_snippets/abbr.md&#39;, &#39;docs/src/markdown/_snippets/links.md&#39;, &#39;docs/src/markdown/_snippets/refs.md&#39;, &#39;docs/src/markdown/changelog.md&#39;, &#39;docs/src/markdown/fnmatch.md&#39;, &#39;docs/src/markdown/glob.md&#39;, &#39;docs/src/markdown/index.md&#39;, &#39;docs/src/markdown/installation.md&#39;, &#39;docs/src/markdown/license.md&#39;, &#39;README.md&#39;]</span>
</code></pre></div> <div class="admonition new"> <p class=admonition-title>New 5.1</p> <p><code>root_dir</code> was added in 5.1.0.</p> </div> <div class="admonition new"> <p class=admonition-title>New 6.0</p> <p><code>limit</code> was added in 6.0.</p> </div> <div class="admonition new"> <p class=admonition-title>New 8.2</p> <p><code>dir_fd</code> parameter was added in 8.2.</p> </div> <div class="admonition new"> <p class=admonition-title>New 8.4</p> <p><code>exclude</code> parameter was added.</p> </div> <h4 id=globmatch><code>glob.globmatch</code><a class=headerlink href=#globmatch title="Permanent link"></a></h4> <div class=highlight><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>globmatch</span><span class=p>(</span><span class=n>filename</span><span class=p>,</span> <span class=n>patterns</span><span class=p>,</span> <span class=o>*</span><span class=p>,</span> <span class=n>flags</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>root_dir</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>dir_fd</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>limit</span><span class=o>=</span><span class=mi>1000</span><span class=p>,</span> <span class=n>exclude</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
</code></pre></div> <p><code>globmatch</code> takes a file name (string or path-like object), a pattern (or list of patterns), flags, and an optional root directory and/or file descriptor. It also allows configuring the <a href=#multi-pattern-limits>max pattern limit</a>. Exclusion patterns can be specified via the <code>exclude</code> parameter which takes a pattern or a list of patterns. It will return a boolean indicating whether the file path was matched by the pattern(s).</p> <div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=kn>from</span><span class=w> </span><span class=nn>wcmatch</span><span class=w> </span><span class=kn>import</span> <span class=n>glob</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>glob</span><span class=o>.</span><span class=n>globmatch</span><span class=p>(</span><span class=s1>&#39;some/path/test.txt&#39;</span><span class=p>,</span> <span class=s1>&#39;**/*/@(*.txt|*.py)&#39;</span><span class=p>,</span> <span class=n>flags</span><span class=o>=</span><span class=n>glob</span><span class=o>.</span><span class=n>EXTGLOB</span><span class=p>)</span>
<span class=go>True</span>
</code></pre></div> <p>When applying multiple patterns, a file path matches if it matches any of the patterns:</p> <div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=kn>from</span><span class=w> </span><span class=nn>wcmatch</span><span class=w> </span><span class=kn>import</span> <span class=n>glob</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>glob</span><span class=o>.</span><span class=n>globmatch</span><span class=p>(</span><span class=s1>&#39;some/path/test.txt&#39;</span><span class=p>,</span> <span class=p>[</span><span class=s1>&#39;**/*/*.txt&#39;</span><span class=p>,</span> <span class=s1>&#39;**/*/*.py&#39;</span><span class=p>])</span>
<span class=go>True</span>
</code></pre></div> <p>Exclusion patterns are allowed as well. When exclusion patterns are used in conjunction with other patterns, a path will be considered matched if one of the positive patterns match <strong>and</strong> none of the exclusion patterns match. If an exclusion pattern is given without any inclusion patterns, the pattern will match nothing. Exclusion patterns are meant to filter other patterns, not match anything by themselves.</p> <div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=kn>from</span><span class=w> </span><span class=nn>wcmatch</span><span class=w> </span><span class=kn>import</span> <span class=n>glob</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>glob</span><span class=o>.</span><span class=n>globmatch</span><span class=p>(</span><span class=s1>&#39;some/path/test.py&#39;</span><span class=p>,</span> <span class=s1>&#39;**|!**/*.txt&#39;</span><span class=p>,</span> <span class=n>flags</span><span class=o>=</span><span class=n>glob</span><span class=o>.</span><span class=n>NEGATE</span> <span class=o>|</span> <span class=n>glob</span><span class=o>.</span><span class=n>GLOBSTAR</span> <span class=o>|</span> <span class=n>glob</span><span class=o>.</span><span class=n>SPLIT</span><span class=p>)</span>
<span class=go>True</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>glob</span><span class=o>.</span><span class=n>globmatch</span><span class=p>(</span><span class=s1>&#39;some/path/test.txt&#39;</span><span class=p>,</span> <span class=s1>&#39;**|!**/*.txt&#39;</span><span class=p>,</span> <span class=n>flags</span><span class=o>=</span><span class=n>glob</span><span class=o>.</span><span class=n>NEGATE</span> <span class=o>|</span> <span class=n>glob</span><span class=o>.</span><span class=n>GLOBSTAR</span> <span class=o>|</span> <span class=n>glob</span><span class=o>.</span><span class=n>SPLIT</span><span class=p>)</span>
<span class=go>False</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>glob</span><span class=o>.</span><span class=n>globmatch</span><span class=p>(</span><span class=s1>&#39;some/path/test.txt&#39;</span><span class=p>,</span> <span class=p>[</span><span class=s1>&#39;*/*/*.txt&#39;</span><span class=p>,</span> <span class=s1>&#39;!*/*/avoid.txt&#39;</span><span class=p>],</span> <span class=n>flags</span><span class=o>=</span><span class=n>glob</span><span class=o>.</span><span class=n>NEGATE</span><span class=p>)</span>
<span class=go>True</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>glob</span><span class=o>.</span><span class=n>globmatch</span><span class=p>(</span><span class=s1>&#39;some/path/avoid.txt&#39;</span><span class=p>,</span> <span class=p>[</span><span class=s1>&#39;*/*/*.txt&#39;</span><span class=p>,</span> <span class=s1>&#39;!*/*/avoid.txt&#39;</span><span class=p>],</span> <span class=n>flags</span><span class=o>=</span><span class=n>glob</span><span class=o>.</span><span class=n>NEGATE</span><span class=p>)</span>
<span class=go>False</span>
</code></pre></div> <p>As mentioned, exclusion patterns need to be applied to a inclusion pattern to work, but if it is desired, you can force exclusion patterns to assume all files should be filtered with the exclusion pattern(s) with the <a href=#negateall><code>NEGATEALL</code></a> flag. Essentially, it means if you use a pattern such as <code>!*.md</code>, it means if you use a pattern such as <code>!*.md</code>, it will assume two pattern were given: <code>*</code> and <code>!*.md</code> (where <code>**</code> is specifically treated as if <a href=#globstar><code>GLOBSTAR</code></a> was enabled).</p> <div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=kn>from</span><span class=w> </span><span class=nn>wcmatch</span><span class=w> </span><span class=kn>import</span> <span class=n>glob</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>glob</span><span class=o>.</span><span class=n>globmatch</span><span class=p>(</span><span class=s1>&#39;some/path/test.py&#39;</span><span class=p>,</span> <span class=s1>&#39;!**/*.txt&#39;</span><span class=p>,</span> <span class=n>flags</span><span class=o>=</span><span class=n>glob</span><span class=o>.</span><span class=n>NEGATE</span> <span class=o>|</span> <span class=n>glob</span><span class=o>.</span><span class=n>GLOBSTAR</span> <span class=o>|</span> <span class=n>glob</span><span class=o>.</span><span class=n>NEGATEALL</span><span class=p>)</span>
<span class=go>True</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>glob</span><span class=o>.</span><span class=n>globmatch</span><span class=p>(</span><span class=s1>&#39;some/path/test.txt&#39;</span><span class=p>,</span> <span class=s1>&#39;!**/*.txt&#39;</span><span class=p>,</span> <span class=n>flags</span><span class=o>=</span><span class=n>glob</span><span class=o>.</span><span class=n>NEGATE</span> <span class=o>|</span> <span class=n>glob</span><span class=o>.</span><span class=n>GLOBSTAR</span> <span class=o>|</span> <span class=n>glob</span><span class=o>.</span><span class=n>NEGATEALL</span><span class=p>)</span>
<span class=go>False</span>
</code></pre></div> <p>By default, <code>globmatch</code> and <a href=#globfilter><code>globfilter</code></a> do not operate on the file system. This is to allow you to process paths from any source, even paths that are not on your current system. So if you are trying to explicitly match a directory with a pattern such as <code>*/</code>, your path must end with a slash (<code>my_directory/</code>) to be recognized as a directory. It also won't be able to evaluate whether a directory is a symlink or not as it will have no way of checking. Here we see that <code>globmatch</code> fails to match the filepath as the pattern is explicitly looking for a directory and our filepath does not end with <code>/</code>.</p> <div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=kn>from</span><span class=w> </span><span class=nn>wcmatch</span><span class=w> </span><span class=kn>import</span> <span class=n>glob</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>glob</span><span class=o>.</span><span class=n>globmatch</span><span class=p>(</span><span class=s1>&#39;docs&#39;</span><span class=p>,</span> <span class=s1>&#39;*/&#39;</span><span class=p>)</span>
<span class=go>False</span>
</code></pre></div> <p>If you would like for <code>globmatch</code> (or <a href=#globfilter><code>globfilter</code></a>) to operate on your current filesystem directly, simply pass in the <a href=#realpath><code>REALPATH</code></a> flag. When enabled, the path under consideration will be analyzed and will use that context to determine if the file exists, if it is a directory, does it's context make sense compared to what the pattern is looking vs the current working directory, or if it has symlinks that should not be traversed by <a href=#globstar><code>GLOBSTAR</code></a>.</p> <p>Here we use <a href=#realpath><code>REALPATH</code></a> and can see that <code>globmatch</code> now knows that <code>doc</code> is a directory.</p> <div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=kn>from</span><span class=w> </span><span class=nn>wcmatch</span><span class=w> </span><span class=kn>import</span> <span class=n>glob</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>glob</span><span class=o>.</span><span class=n>globmatch</span><span class=p>(</span><span class=s1>&#39;docs&#39;</span><span class=p>,</span> <span class=s1>&#39;*/&#39;</span><span class=p>,</span> <span class=n>flags</span><span class=o>=</span><span class=n>glob</span><span class=o>.</span><span class=n>REALPATH</span><span class=p>)</span>
<span class=go>True</span>
</code></pre></div> <p>It also can tell if a file doesn't exist or is out of scope compared to what is being asked. For instance, the below example fails because the pattern is looking for any folder that is relative to the current path, which <code>/usr</code> is not. When we disable <a href=#realpath><code>REALPATH</code></a>, it will match just fine. Both cases can be useful depending on how you plan to use <code>globmatch</code>.</p> <div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=kn>from</span><span class=w> </span><span class=nn>wcmatch</span><span class=w> </span><span class=kn>import</span> <span class=n>glob</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>glob</span><span class=o>.</span><span class=n>globmatch</span><span class=p>(</span><span class=s1>&#39;/usr&#39;</span><span class=p>,</span> <span class=s1>&#39;**/&#39;</span><span class=p>,</span> <span class=n>flags</span><span class=o>=</span><span class=n>glob</span><span class=o>.</span><span class=n>G</span> <span class=o>|</span> <span class=n>glob</span><span class=o>.</span><span class=n>REALPATH</span><span class=p>)</span>
<span class=go>False</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>glob</span><span class=o>.</span><span class=n>globmatch</span><span class=p>(</span><span class=s1>&#39;/usr&#39;</span><span class=p>,</span> <span class=s1>&#39;**/&#39;</span><span class=p>,</span> <span class=n>flags</span><span class=o>=</span><span class=n>glob</span><span class=o>.</span><span class=n>G</span><span class=p>)</span>
<span class=go>True</span>
</code></pre></div> <p>If you are using <a href=#realpath><code>REALPATH</code></a> and want to evaluate the paths relative to a different directory, you can set the <code>root_dir</code> parameter.</p> <div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=kn>from</span><span class=w> </span><span class=nn>wcmatch</span><span class=w> </span><span class=kn>import</span> <span class=n>glob</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>glob</span><span class=o>.</span><span class=n>globmatch</span><span class=p>(</span><span class=s1>&#39;markdown&#39;</span><span class=p>,</span> <span class=s1>&#39;markdown&#39;</span><span class=p>,</span> <span class=n>flags</span><span class=o>=</span><span class=n>glob</span><span class=o>.</span><span class=n>REALPATH</span><span class=p>)</span>
<span class=go>False</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>glob</span><span class=o>.</span><span class=n>globmatch</span><span class=p>(</span><span class=s1>&#39;markdown&#39;</span><span class=p>,</span> <span class=s1>&#39;markdown&#39;</span><span class=p>,</span> <span class=n>flags</span><span class=o>=</span><span class=n>glob</span><span class=o>.</span><span class=n>REALPATH</span><span class=p>,</span> <span class=n>root_dir</span><span class=o>=</span><span class=s1>&#39;docs/src&#39;</span><span class=p>)</span>
<span class=go>True</span>
</code></pre></div> <p>Additionally, you could also provide a root directory using a file descriptor.</p> <div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=kn>import</span><span class=w> </span><span class=nn>os</span>
<span class=gp>&gt;&gt;&gt; </span><span class=kn>from</span><span class=w> </span><span class=nn>wcmatch</span><span class=w> </span><span class=kn>import</span> <span class=n>glob</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>dir_fd</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>open</span><span class=p>(</span><span class=s1>&#39;docs/src&#39;</span><span class=p>,</span> <span class=n>os</span><span class=o>.</span><span class=n>O_RDONLY</span> <span class=o>|</span> <span class=n>os</span><span class=o>.</span><span class=n>O_DIRECTORY</span><span class=p>)</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>glob</span><span class=o>.</span><span class=n>globmatch</span><span class=p>(</span><span class=s1>&#39;markdown&#39;</span><span class=p>,</span> <span class=s1>&#39;markdown&#39;</span><span class=p>,</span> <span class=n>flags</span><span class=o>=</span><span class=n>glob</span><span class=o>.</span><span class=n>REALPATH</span><span class=p>)</span>
<span class=go>False</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>glob</span><span class=o>.</span><span class=n>globmatch</span><span class=p>(</span><span class=s1>&#39;markdown&#39;</span><span class=p>,</span> <span class=s1>&#39;markdown&#39;</span><span class=p>,</span> <span class=n>flags</span><span class=o>=</span><span class=n>glob</span><span class=o>.</span><span class=n>REALPATH</span><span class=p>,</span> <span class=n>dir_fd</span><span class=o>=</span><span class=n>dir_fd</span><span class=p>)</span>
<span class=go>True</span>
</code></pre></div> <div class="admonition warning"> <p class=admonition-title>Support for Directory Descriptors</p> <p>Directory descriptors may not be supported on all systems. You can check whether or not <code>dir_fd</code> is supported for a your platform referencing the attribute <code class=highlight><span class=n>glob</span><span class=o>.</span><span class=n>SUPPORT_DIR_FD</span></code> which will be <code class=highlight><span class=kc>True</span></code> if it is supported.</p> <p>Additionally, the <code class=highlight><span class=n>os</span><span class=o>.</span><span class=n>O_DIRECTORY</span></code> may not be defined on some systems. You can likely just use <code class=highlight><span class=n>os</span><span class=o>.</span><span class=n>O_RDONLY</span></code>.</p> </div> <div class="admonition new"> <p class=admonition-title>New 5.1</p> <ul> <li><code>root_dir</code> was added in 5.1.0.</li> <li>path-like object support for file path inputs was added in 5.1.0</li> </ul> </div> <div class="admonition new"> <p class=admonition-title>New 6.0</p> <p><code>limit</code> was added in 6.0.</p> </div> <div class="admonition new"> <p class=admonition-title>New 8.2</p> <p><code>dir_fd</code> parameter was added in 8.2.</p> </div> <div class="admonition new"> <p class=admonition-title>New 8.4</p> <p><code>exclude</code> parameter was added.</p> </div> <h4 id=globfilter><code>glob.globfilter</code><a class=headerlink href=#globfilter title="Permanent link"></a></h4> <div class=highlight><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>globfilter</span><span class=p>(</span><span class=n>filenames</span><span class=p>,</span> <span class=n>patterns</span><span class=p>,</span> <span class=o>*</span><span class=p>,</span> <span class=n>flags</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>root_dir</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>dir_fd</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>limit</span><span class=o>=</span><span class=mi>1000</span><span class=p>,</span> <span class=n>method</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
</code></pre></div> <p><code>globfilter</code> takes a list of file paths (strings or path-like objects), a pattern (or list of patterns), flags, and an optional root directory and/or directory file descriptor. It also allows configuring the <a href=#multi-pattern-limits>max pattern limit</a>. Exclusion patterns can be specified via the <code>exclude</code> parameter which takes a pattern or a list of patterns.It returns a list of all files paths that matched the pattern(s). The same logic used for <a href=#globmatch><code>globmatch</code></a> is used for <code>globfilter</code>, albeit more efficient for processing multiple files.</p> <div class="admonition warning"> <p class=admonition-title>Path-like Input Support</p> <p>Path-like object input support is only available in Python 3.6+ as the path-like protocol was added in Python 3.6.</p> </div> <div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=kn>from</span><span class=w> </span><span class=nn>wcmatch</span><span class=w> </span><span class=kn>import</span> <span class=n>glob</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>glob</span><span class=o>.</span><span class=n>globfilter</span><span class=p>([</span><span class=s1>&#39;some/path/a.txt&#39;</span><span class=p>,</span> <span class=s1>&#39;b.txt&#39;</span><span class=p>,</span> <span class=s1>&#39;another/path/c.py&#39;</span><span class=p>],</span> <span class=s1>&#39;**/*.txt&#39;</span><span class=p>)</span>
<span class=go>[&#39;some/path/a.txt&#39;, &#39;b.txt&#39;]</span>
</code></pre></div> <p>Like <a href=#globmatch><code>globmatch</code></a>, <code>globfilter</code> does not operate directly on the file system, with all the caveats associated. But you can enable the <a href=#realpath><code>REALPATH</code></a> flag and <code>globfilter</code> will use the filesystem to gain context such as: whether the file exists, whether it is a directory or not, or whether it has symlinks that should not be traversed by <code>GLOBSTAR</code>. See <a href=#globmatch><code>globmatch</code></a> for examples.</p> <div class="admonition new"> <p class=admonition-title>New 5.1</p> <ul> <li><code>root_dir</code> was added in 5.1.0.</li> <li>path-like object support for file path inputs was added in 5.1.0</li> </ul> </div> <div class="admonition new"> <p class=admonition-title>New 6.0</p> <p><code>limit</code> was added in 6.0.</p> </div> <div class="admonition new"> <p class=admonition-title>New 8.2</p> <p><code>dir_fd</code> parameter was added in 8.2.</p> </div> <div class="admonition new"> <p class=admonition-title>New 8.4</p> <p><code>exclude</code> parameter was added.</p> </div> <h4 id=translate><code>glob.translate</code><a class=headerlink href=#translate title="Permanent link"></a></h4> <div class=highlight><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>translate</span><span class=p>(</span><span class=n>patterns</span><span class=p>,</span> <span class=o>*</span><span class=p>,</span> <span class=n>flags</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>limit</span><span class=o>=</span><span class=mi>1000</span><span class=p>,</span> <span class=n>exclude</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
</code></pre></div> <p><code>translate</code> takes a file pattern (or list of patterns) and flags. It also allows configuring the <a href=#multi-pattern-limits>max pattern limit</a>. Exclusion patterns can be specified via the <code>exclude</code> parameter which takes a pattern or a list of patterns. It returns two lists: one for inclusion patterns and one for exclusion patterns. The lists contain the regular expressions used for matching the given patterns. It should be noted that a file is considered matched if it matches at least one inclusion pattern and matches <strong>none</strong> of the exclusion patterns.</p> <div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=kn>from</span><span class=w> </span><span class=nn>wcmatch</span><span class=w> </span><span class=kn>import</span> <span class=n>glob</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>glob</span><span class=o>.</span><span class=n>translate</span><span class=p>(</span><span class=s1>&#39;**/*.{py,txt}&#39;</span><span class=p>)</span>
<span class=go>([&#39;^(?s:(?=[^/])(?!(?:\\.{1,2})(?:$|[/]))(?:(?!\\.)[^/]*?)?[/]+(?=[^/])(?!(?:\\.{1,2})(?:$|[/]))(?:(?!\\.)[^/]*?)?\\.\\{py,txt\\}[/]*?)$&#39;], [])</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>glob</span><span class=o>.</span><span class=n>translate</span><span class=p>(</span><span class=s1>&#39;**|!**/*.{py,txt}&#39;</span><span class=p>,</span> <span class=n>flags</span><span class=o>=</span><span class=n>glob</span><span class=o>.</span><span class=n>NEGATE</span> <span class=o>|</span> <span class=n>glob</span><span class=o>.</span><span class=n>SPLIT</span><span class=p>)</span>
<span class=go>([&#39;^(?s:(?=[^/])(?!(?:\\.{1,2})(?:$|[/]))(?:(?!\\.)[^/]*?)?[/]*?)$&#39;], [&#39;^(?s:(?=[^/])(?!(?:\\.{1,2})(?:$|[/]))[^/]*?[/]+(?=[^/])(?!(?:\\.{1,2})(?:$|[/]))[^/]*?\\.\\{py,txt\\}[/]*?)$&#39;])</span>
</code></pre></div> <p>When using <a href=#extglob><code>EXTGLOB</code></a> patterns, patterns will be returned with capturing groups around the groups:</p> <p>While in regex patterns like <code class=highlight><span class=sa>r</span><span class=s1>&#39;(a)+&#39;</span></code> would capture only the last character, even though multiple where matched, we wrap the entire group to be captured: <code class=highlight><span class=s1>&#39;+(a)&#39;</span></code> &rarr; <code class=highlight><span class=sa>r</span><span class=s1>&#39;((a)+)&#39;</span></code>.</p> <div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=kn>from</span><span class=w> </span><span class=nn>wcmatch</span><span class=w> </span><span class=kn>import</span> <span class=n>glob</span>
<span class=gp>&gt;&gt;&gt; </span><span class=kn>import</span><span class=w> </span><span class=nn>re</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>gpat</span> <span class=o>=</span> <span class=n>glob</span><span class=o>.</span><span class=n>translate</span><span class=p>(</span><span class=s2>&quot;@(file)+([[:digit:]])@(.*)&quot;</span><span class=p>,</span> <span class=n>flags</span><span class=o>=</span><span class=n>glob</span><span class=o>.</span><span class=n>EXTGLOB</span><span class=p>)</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>pat</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>compile</span><span class=p>(</span><span class=n>gpat</span><span class=p>[</span><span class=mi>0</span><span class=p>][</span><span class=mi>0</span><span class=p>])</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>pat</span><span class=o>.</span><span class=n>match</span><span class=p>(</span><span class=s1>&#39;file33.test.txt&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>groups</span><span class=p>()</span>
<span class=go>(&#39;file&#39;, &#39;33&#39;, &#39;.test.txt&#39;)</span>
</code></pre></div> <div class="admonition new"> <p class=admonition-title>New 6.0</p> <p><code>limit</code> was added in 6.0.</p> </div> <div class="admonition new"> <p class=admonition-title>New 7.1</p> <p>Translate patterns now provide capturing groups for <a href=#extglob><code>EXTGLOB</code></a> groups.</p> </div> <div class="admonition new"> <p class=admonition-title>New 8.4</p> <p><code>exclude</code> parameter was added.</p> </div> <h4 id=compile><code>glob.compile</code><a class=headerlink href=#compile title="Permanent link"></a></h4> <div class=highlight><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>compile</span><span class=p>(</span><span class=n>patterns</span><span class=p>,</span> <span class=o>*</span><span class=p>,</span> <span class=n>flags</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>limit</span><span class=o>=</span><span class=mi>1000</span><span class=p>,</span> <span class=n>exclude</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
</code></pre></div> <p>The <code>compile</code> function takes a file pattern (or list of patterns) and flags. It also allows configuring the <a href=#multi-pattern-limits>max pattern limit</a>. Exclusion patterns can be specified via the <code>exclude</code> parameter which takes a pattern or a list of patterns. It returns a <a href=#wcmatcher><code>WcMatcher</code></a> object which can match or filter file paths depending on which method is called. </p> <div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=kn>import</span><span class=w> </span><span class=nn>wcmatch.glob</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>glob</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>m</span> <span class=o>=</span> <span class=n>glob</span><span class=o>.</span><span class=n>compile</span><span class=p>(</span><span class=s1>&#39;**/*.py&#39;</span><span class=p>,</span> <span class=n>flags</span><span class=o>=</span><span class=n>glob</span><span class=o>.</span><span class=n>GLOBSTAR</span><span class=p>)</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>m</span><span class=o>.</span><span class=n>match</span><span class=p>(</span><span class=s1>&#39;wcmatch/__init__.py&#39;</span><span class=p>)</span>
<span class=go>True</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>m</span><span class=o>.</span><span class=n>filter</span><span class=p>([</span><span class=s1>&#39;wcmatch/__init__.py&#39;</span><span class=p>,</span> <span class=s1>&#39;wcmatch/glob.py&#39;</span><span class=p>,</span> <span class=s1>&#39;README.md&#39;</span><span class=p>])</span>
<span class=go>[&#39;wcmatch/__init__.py&#39;, &#39;wcmatch/glob.py&#39;]</span>
</code></pre></div> <h4 id=wcmatcher><code>glob.WcMatcher</code><a class=headerlink href=#wcmatcher title="Permanent link"></a></h4> <p>The <code>WcMatcher</code> class is returned when a pattern is precompiled with <a href=#compile><code>compile</code></a>. It has two methods: <code>match</code> and <code>filter</code>.</p> <div class=highlight><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>match</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>filename</span><span class=p>,</span> <span class=o>*</span><span class=p>,</span> <span class=n>root_dir</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>dir_fd</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
</code></pre></div> <p>This <code>match</code> method allows for matching against a precompiled pattern.</p> <div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=kn>import</span><span class=w> </span><span class=nn>wcmatch.glob</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>glob</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>m</span> <span class=o>=</span> <span class=n>glob</span><span class=o>.</span><span class=n>compile</span><span class=p>(</span><span class=s1>&#39;**/*.py&#39;</span><span class=p>,</span> <span class=n>flags</span><span class=o>=</span><span class=n>glob</span><span class=o>.</span><span class=n>GLOBSTAR</span><span class=p>)</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>m</span><span class=o>.</span><span class=n>match</span><span class=p>(</span><span class=s1>&#39;wcmatch/__init__.py&#39;</span><span class=p>)</span>
<span class=go>True</span>
</code></pre></div> <div class=highlight><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>filter</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>filenames</span><span class=p>,</span> <span class=o>*</span><span class=p>,</span> <span class=n>root_dir</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>dir_fd</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
</code></pre></div> <p>The <code>filter</code> method allows for filtering paths against a precompiled pattern.</p> <div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=kn>import</span><span class=w> </span><span class=nn>wcmatch.glob</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>glob</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>m</span> <span class=o>=</span> <span class=n>glob</span><span class=o>.</span><span class=n>compile</span><span class=p>(</span><span class=s1>&#39;**/*.py&#39;</span><span class=p>,</span> <span class=n>flags</span><span class=o>=</span><span class=n>glob</span><span class=o>.</span><span class=n>GLOBSTAR</span><span class=p>)</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>m</span><span class=o>.</span><span class=n>filter</span><span class=p>([</span><span class=s1>&#39;wcmatch/__init__.py&#39;</span><span class=p>,</span> <span class=s1>&#39;wcmatch/glob.py&#39;</span><span class=p>,</span> <span class=s1>&#39;README.md&#39;</span><span class=p>])</span>
<span class=go>[&#39;wcmatch/__init__.py&#39;, &#39;wcmatch/glob.py&#39;]</span>
</code></pre></div> <h4 id=escape><code>glob.escape</code><a class=headerlink href=#escape title="Permanent link"></a></h4> <div class=highlight><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>escape</span><span class=p>(</span><span class=n>pattern</span><span class=p>,</span> <span class=n>unix</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
</code></pre></div> <p>The <code>escape</code> function will conservatively escape <code>-</code>, <code>!</code>, <code>*</code>, <code>?</code>, <code>(</code>, <code>)</code>, <code>[</code>, <code>]</code>, <code>|</code>, <code>{</code>, <code>}</code>, and <code>\</code> with backslashes, regardless of what feature is or is not enabled. It is meant to escape path parts (filenames, Windows drives, UNC sharepoints) or full paths.</p> <div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=kn>from</span><span class=w> </span><span class=nn>wcmatch</span><span class=w> </span><span class=kn>import</span> <span class=n>glob</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>glob</span><span class=o>.</span><span class=n>escape</span><span class=p>(</span><span class=s1>&#39;some/path?/**file**</span><span class=si>{}</span><span class=s1>.txt&#39;</span><span class=p>)</span>
<span class=go>&#39;some/path\\?/\\*\\*file\\*\\*\\{}.txt&#39;</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>glob</span><span class=o>.</span><span class=n>globmatch</span><span class=p>(</span><span class=s1>&#39;some/path?/**file**</span><span class=si>{}</span><span class=s1>.txt&#39;</span><span class=p>,</span> <span class=n>glob</span><span class=o>.</span><span class=n>escape</span><span class=p>(</span><span class=s1>&#39;some/path?/**file**</span><span class=si>{}</span><span class=s1>.txt&#39;</span><span class=p>))</span>
<span class=go>True</span>
</code></pre></div> <p><code>escape</code> can also handle Windows style paths with <code>/</code> or <code>\</code> path separators. It is usually recommended to use <code>/</code> as Windows backslashes are only supported via a special escape, but <code>\</code> will be expanded to an escaped backslash (represented in a raw string as <code class=highlight><span class=sa>r</span><span class=s1>&#39;</span><span class=se>\\</span><span class=s1>&#39;</span></code> or a normal string as <code class=highlight><span class=s1>&#39;</span><span class=se>\\\\</span><span class=s1>&#39;</span></code>).</p> <div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=kn>from</span><span class=w> </span><span class=nn>wmcatch</span><span class=w> </span><span class=kn>import</span> <span class=n>glob</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>glob</span><span class=o>.</span><span class=n>escape</span><span class=p>(</span><span class=s1>&#39;some</span><span class=se>\\</span><span class=s1>path?</span><span class=se>\\</span><span class=s1>**file**</span><span class=si>{}</span><span class=s1>.txt&#39;</span><span class=p>,</span> <span class=n>unix</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>
<span class=go>&#39;some\\\\path\\?\\\\\\*\\*file\\*\\*\\{\\}.txt&#39;</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>glob</span><span class=o>.</span><span class=n>globmatch</span><span class=p>(</span><span class=s1>&#39;some</span><span class=se>\\</span><span class=s1>path?</span><span class=se>\\</span><span class=s1>**file**</span><span class=si>{}</span><span class=s1>.txt&#39;</span><span class=p>,</span> <span class=n>glob</span><span class=o>.</span><span class=n>escape</span><span class=p>(</span><span class=s1>&#39;some</span><span class=se>\\</span><span class=s1>path?</span><span class=se>\\</span><span class=s1>**file**</span><span class=si>{}</span><span class=s1>.txt&#39;</span><span class=p>),</span> <span class=n>flags</span><span class=o>=</span><span class=n>glob</span><span class=o>.</span><span class=n>FORCEWIN</span><span class=p>)</span>
<span class=go>True</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>glob</span><span class=o>.</span><span class=n>escape</span><span class=p>(</span><span class=s1>&#39;some/path?/**file**</span><span class=si>{}</span><span class=s1>.txt&#39;</span><span class=p>,</span> <span class=n>unix</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>
<span class=go>&#39;some/path\\?/\\*\\*file\\*\\*\\{\\}.txt&#39;</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>glob</span><span class=o>.</span><span class=n>globmatch</span><span class=p>(</span><span class=s1>&#39;some</span><span class=se>\\</span><span class=s1>path?</span><span class=se>\\</span><span class=s1>**file**</span><span class=si>{}</span><span class=s1>.txt&#39;</span><span class=p>,</span> <span class=n>glob</span><span class=o>.</span><span class=n>escape</span><span class=p>(</span><span class=s1>&#39;some/path?/**file**</span><span class=si>{}</span><span class=s1>.txt&#39;</span><span class=p>),</span> <span class=n>flags</span><span class=o>=</span><span class=n>glob</span><span class=o>.</span><span class=n>FORCEWIN</span><span class=p>)</span>
<span class=go>True</span>
</code></pre></div> <p>On a Windows system, meta characters are not processed in drives or UNC sharepoints except for pattern expansion meta characters. <code>{</code> and <code>}</code> (when using <a href=#brace><code>BRACE</code></a>) and <code>|</code> (when using <a href=#split><code>SPLIT</code></a>) are the only meta characters that can affect drives and UNC sharepoints; therefore, they are the only characters that need to be escaped. <code>escape</code>, when it detects or is informed that it is processing a Windows path, <code>escape</code> will properly find and handle drives and UNC sharepoints.</p> <div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=kn>from</span><span class=w> </span><span class=nn>wmcatch</span><span class=w> </span><span class=kn>import</span> <span class=n>glob</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>glob</span><span class=o>.</span><span class=n>escape</span><span class=p>(</span><span class=s1>&#39;//./Volume{b75e2c83-0000-0000-0000-602f00000000}\Test\Foo.txt&#39;</span><span class=p>,</span> <span class=n>unix</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>
<span class=go>&#39;//./Volume\\{b75e2c83-0000-0000-0000-602f00000000\\}\\\\Test\\\\Foo.txt&#39;</span>
</code></pre></div> <p><code>escape</code> will detect the system it is running on and pick Windows escape logic or Linux/Unix logic. Since <a href=#globmatch><code>globmatch</code></a> allows you to match Unix style paths on a Windows system and vice versa, you can force Unix style escaping or Windows style escaping via the <code>unix</code> parameter. When <code>unix</code> is <code>None</code>, the escape style will be detected, when <code>unix</code> is <code>True</code> Linux/Unix style escaping will be used, and when <code>unix</code> is <code>False</code> Windows style escaping will be used.</p> <div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=n>glob</span><span class=o>.</span><span class=n>escape</span><span class=p>(</span><span class=s1>&#39;some/path?/**file**</span><span class=si>{}</span><span class=s1>.txt&#39;</span><span class=p>,</span> <span class=n>unix</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</code></pre></div> <div class="admonition new"> <p class=admonition-title>New 5.0</p> <p>The <code>unix</code> parameter is now <code>None</code> by default. Set to <code>True</code> to force Linux/Unix style escaping or set to <code>False</code> to force Windows style escaping.</p> </div> <div class="admonition new"> <p class=admonition-title>New 7.0</p> <p><code>{</code>, <code>}</code>, and <code>|</code> will be escaped in Windows drives. Additionally, users can escape these characters in Windows drives manually in their match patterns as well.</p> </div> <h3 id=is_magic><code>glob.is_magic</code><a class=headerlink href=#is_magic title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>is_magic</span><span class=p>(</span><span class=n>pattern</span><span class=p>,</span> <span class=o>*</span><span class=p>,</span> <span class=n>flags</span><span class=o>=</span><span class=mi>0</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Check if the pattern is likely to be magic.&quot;&quot;&quot;</span>
</code></pre></div> <p>This checks a given path or <code>pattern</code> or to see if "magic" symbols are present or not. The check is based on the enabled features via <code>flags</code>. Paths and patterns are expected to be/target full paths, full filenames, full drive names, or full UNC sharepoints. If <code>is_magic</code> is run on a Windows path it will always flag it as "magic" unless you convert the directory separators to <code>/</code> as <code>\</code> is a "magic" symbol.</p> <div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=n>glob</span><span class=o>.</span><span class=n>is_magic</span><span class=p>(</span><span class=s1>&#39;test&#39;</span><span class=p>)</span>
<span class=go>False</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>glob</span><span class=o>.</span><span class=n>is_magic</span><span class=p>(</span><span class=s1>&#39;[test]ing?&#39;</span><span class=p>)</span>
<span class=go>True</span>
</code></pre></div> <p>When <code>is_magic</code> is called, the system it is called on is detected automatically and/or inferred from flags such as <a href=#forceunix><code>FORCEUNIX</code></a> or <a href=#forcewin><code>FORCEWIN</code></a>. If the pattern is checked against a Windows system, UNC sharepoints will be detected and treated differently. Wildcard Match cannot detect and glob all possible connected sharepoints, so they are treated differently and cannot contain magic except in three cases:</p> <ol> <li>The drive or sharepoint is using backslashes as backslashes are treated as magic.</li> <li><a href=#brace><code>BRACE</code></a> is enabled and either <code>{</code> or <code>}</code> are found in the drive name or UNC sharepoint.</li> <li><a href=#split><code>SPLIT</code></a> is enabled and <code>|</code> is found in the drive name or UNC sharepoint.</li> </ol> <div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=n>glob</span><span class=o>.</span><span class=n>is_magic</span><span class=p>(</span><span class=s1>&#39;//?/UNC/server/mount</span><span class=si>{}</span><span class=s1>/&#39;</span><span class=p>,</span> <span class=n>flags</span><span class=o>=</span><span class=n>glob</span><span class=o>.</span><span class=n>FORCEWIN</span><span class=p>)</span>
<span class=go>False</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>glob</span><span class=o>.</span><span class=n>is_magic</span><span class=p>(</span><span class=s1>&#39;//?/UNC/server/mount</span><span class=si>{}</span><span class=s1>/&#39;</span><span class=p>,</span> <span class=n>flags</span><span class=o>=</span><span class=n>glob</span><span class=o>.</span><span class=n>FORCEWIN</span> <span class=o>|</span> <span class=n>glob</span><span class=o>.</span><span class=n>BRACE</span><span class=p>)</span>
<span class=go>True</span>
</code></pre></div> <p>The table below illustrates which symbols are searched for based on the given feature. Each feature adds to the "default". In the case of <a href=#negate><code>NEGATE</code></a>, if <a href=#minusnegate><code>MINUSNEGATE</code></a> is also enabled, <a href=#minusnegate><code>MINUSNEGATE</code></a>'s symbols will be searched instead of <a href=#negate><code>NEGATE</code></a>'s symbols.</p> <table> <thead> <tr> <th>Features</th> <th>Symbols</th> </tr> </thead> <tbody> <tr> <td>Default</td> <td><code>?*[]\</code></td> </tr> <tr> <td><a href=#extmatch><code>EXTMATCH</code></a></td> <td><code>()</code></td> </tr> <tr> <td><a href=#brace><code>BRACE</code></a></td> <td><code>{}</code></td> </tr> <tr> <td><a href=#negate><code>NEGATE</code></a></td> <td><code>!</code></td> </tr> <tr> <td><a href=#minusnegate><code>MINUSNEGATE</code></a></td> <td><code>-</code></td> </tr> <tr> <td><a href=#split><code>SPLIT</code></a></td> <td><code>|</code></td> </tr> <tr> <td><a href=#globtilde><code>GLOBTILDE</code></a></td> <td><code>~</code></td> </tr> </tbody> </table> <div class="admonition new"> <p class=admonition-title>New 8.1</p> <p>Added <code>is_magic</code> in 8.1.</p> </div> <h2 id=flags>Flags<a class=headerlink href=#flags title="Permanent link"></a></h2> <h4 id=case><code>glob.CASE, glob.C</code><a class=headerlink href=#case title="Permanent link"></a></h4> <p><code>CASE</code> forces case sensitivity. <code>CASE</code> has higher priority than <a href=#ignorecase><code>IGNORECASE</code></a>.</p> <p>On Windows, drive letters (<code>C:</code>) and UNC sharepoints (<code>//host/share</code>) portions of a path will still be treated case insensitively, but the rest of the path will have case sensitive logic applied.</p> <h4 id=ignorecase><code>glob.IGNORECASE, glob.I</code><a class=headerlink href=#ignorecase title="Permanent link"></a></h4> <p><code>IGNORECASE</code> forces case insensitivity. <a href=#case><code>CASE</code></a> has higher priority than <code>IGNORECASE</code>.</p> <h4 id=rawchars><code>glob.RAWCHARS, glob.R</code><a class=headerlink href=#rawchars title="Permanent link"></a></h4> <p><code>RAWCHARS</code> causes string character syntax to be parsed in raw strings: <code class=highlight><span class=sa>r</span><span class=s1>&#39;\u0040&#39;</span></code> &rarr; <code class=highlight><span class=sa>r</span><span class=s1>&#39;@&#39;</span></code>. This will handle standard string escapes and Unicode including <code class=highlight><span class=sa>r</span><span class=s1>&#39;\N{CHAR NAME}&#39;</span></code>.</p> <h4 id=negate><code>glob.NEGATE, glob.N</code><a class=headerlink href=#negate title="Permanent link"></a></h4> <p><code>NEGATE</code> causes patterns that start with <code>!</code> to be treated as exclusion patterns. A pattern of <code>!*.py</code> exclude any Python files. Exclusion patterns cannot be used by themselves though, and must be paired with a normal, inclusion pattern, either by utilizing the <a href=#split><code>SPLIT</code></a> flag, or providing multiple patterns in a list. Assuming the <a href=#split><code>SPLIT</code></a> flag, this means using it in a pattern such as <code>inclusion|!exclusion</code>.</p> <p>If it is desired, you can force exclusion patterns, when no inclusion pattern is provided, to assume all files match unless the file matches the excluded pattern. This is done with the <a href=#negateall><code>NEGATEALL</code></a> flag.</p> <p><code>NEGATE</code> enables <a href=#dotglob><code>DOTGLOB</code></a> in all exclude patterns, this cannot be disabled. This will not affect the inclusion patterns.</p> <p>If <code>NEGATE</code> is set and exclusion patterns are passed via a matching or glob function's <code>exclude</code> parameter, <code>NEGATE</code> will be ignored and the <code>exclude</code> patterns will be used instead. Either <code>exclude</code> or <code>NEGATE</code> should be used, not both.</p> <h4 id=negateall><code>glob.NEGATEALL, glob.A</code><a class=headerlink href=#negateall title="Permanent link"></a></h4> <p><code>NEGATEALL</code> can force exclusion patterns, when no inclusion pattern is provided, to assume all files match unless the file matches the excluded pattern. Essentially, it means if you use a pattern such as <code>!*.md</code>, it will assume two patterns were given: <code>**</code> and <code>!*.md</code>, where <code>!*.md</code> is applied to the results of <code>**</code>, and <code>**</code> is specifically treated as if <a href=#globstar><code>GLOBSTAR</code></a> was enabled.</p> <p>Dot files will not be returned unless <a href=#dotglob><code>DOTGLOB</code></a> is enabled. Symlinks will also not be traversed unless <a href=#follow><code>FOLLOW</code></a> is enabled.</p> <h4 id=minusnegate><code>glob.MINUSNEGATE, glob.M</code><a class=headerlink href=#minusnegate title="Permanent link"></a></h4> <p>When <code>MINUSNEGATE</code> is used with <a href=#negate><code>NEGATE</code></a>, exclusion patterns are recognized by a pattern starting with <code>-</code> instead of <code>!</code>. This plays nice with the extended glob feature which already uses <code>!</code> in patterns such as <code>!(...)</code>.</p> <h4 id=globstar><code>glob.GLOBSTAR, glob.G</code><a class=headerlink href=#globstar title="Permanent link"></a></h4> <p><code>GLOBSTAR</code> enables the feature where <code>**</code> matches zero or more directories.</p> <h4 id=globstarlong><code>glob.GLOBSTARLONG, glob.GL</code><a class=headerlink href=#globstarlong title="Permanent link"></a></h4> <div class="admonition new"> <p class=admonition-title>New 10.0</p> </div> <p>When <code>GLOBSTARLONG</code> is enabled <code>***</code> will act like <code>**</code>, but will cause symlinks to be traversed as well.</p> <p>Enabling <code>GLOBSTARLONG</code> automatically enables <a href=#globstar><code>GLOBSTAR</code></a>.</p> <p><a href=#follow><code>FOLLOW</code></a> will be ignored and <code>***</code> will be required to traverse a symlink. But it should be noted that when using <a href=#matchbase><code>MATCHBASE</code></a> and <a href=#follow><code>FOLLOW</code></a> with <code>GLOBSTARLONG</code>, that <a href=#follow><code>FOLLOW</code></a> will cause the implicit leading <code>**</code> that <a href=#matchbase><code>MATCHBASE</code></a> applies to act as an implicit <code>***</code>.</p> <h4 id=follow><code>glob.FOLLOW, glob.L</code><a class=headerlink href=#follow title="Permanent link"></a></h4> <p><code>FOLLOW</code> will cause <a href=#globstar><code>GLOBSTAR</code></a> patterns (<code>**</code>) to traverse symlink directories.</p> <p><code>FOLLOW</code> will have no affect if using <a href=#globstarlong><code>GLOBSTARLONG</code></a> and an explicit <code>***</code> will be required to traverse a symlink. <code>FOLLOW</code> will have an affect if enabled with <a href=#globstarlong><code>GLOBSTARLONG</code></a> and <a href=#matchbase><code>MATCHBASE</code></a> and will cause the implicit leading <code>**</code> that <code>MATCHBASE</code> applies to act as an implicit <code>***</code>.</p> <h4 id=realpath><code>glob.REALPATH, glob.P</code><a class=headerlink href=#realpath title="Permanent link"></a></h4> <p>In the past, only <a href=#glob><code>glob</code></a> and <a href=#iglob><code>iglob</code></a> operated on the filesystem, but with <code>REALPATH</code>, other functions will now operate on the filesystem as well: <a href=#globmatch><code>globmatch</code></a> and <a href=#globfilter><code>globfilter</code></a>.</p> <p>Normally, functions such as <a href=#globmatch><code>globmatch</code></a> would simply match a path with regular expression and return the result. The functions were not concerned with whether the path existed or not. It didn't care if it was even valid for the operating system.</p> <p><code>REALPATH</code> forces <a href=#globmatch><code>globmatch</code></a> and <a href=#globfilter><code>globfilter</code></a> to treat the string path as a real file path for the given system it is running on. It will augment the patterns used to match files and enable additional logic so that the path must meet the following in order to match:</p> <ul> <li>Path must exist.</li> <li>Directories that are symlinks will not be traversed by <a href=#globstar><code>GLOBSTAR</code></a> patterns (<code>**</code>) unless the <a href=#follow><code>FOLLOW</code></a> flag is enabled.</li> <li>If <a href=#globstarlong><code>GLOBSTARLONG</code></a> is enabled, <code>***</code> will traverse symlinks, <a href=#follow><code>FOLLOW</code></a> will be ignored except if <a href=#matchbase><code>MATCHBASE</code></a> is also enabled, in that case, the implicit leading <code>**</code> added by <a href=#matchbase><code>MATCHBASE</code></a> will act as <code>***</code>.</li> <li>When presented with a pattern where the match must be a directory, but the file path being compared doesn't indicate the file is a directory with a trailing slash, the command will look at the filesystem to determine if it is a directory.</li> <li>Paths must match in relation to the current working directory unless the pattern is constructed in a way to indicates an absolute path.</li> </ul> <p>Since <code>REALPATH</code> causes the file system to be referenced when matching a path, flags such as <a href=#forceunix><code>FORCEUNIX</code></a> and <a href=#forcewin><code>FORCEWIN</code></a> are not allowed with this flag and will be ignored.</p> <h4 id=dotglob><code>glob.DOTGLOB, glob.D</code><a class=headerlink href=#dotglob title="Permanent link"></a></h4> <p>By default, <a href=#glob><code>glob</code></a> and <a href=#globmatch><code>globmatch</code></a> will not match file or directory names that start with dot <code>.</code> unless matched with a literal dot. <code>DOTGLOB</code> allows the meta characters (such as <code>*</code>) to glob dots like any other character. Dots will not be matched in <code>[]</code>, <code>*</code>, or <code>?</code>.</p> <p>Alternatively <code>DOTMATCH</code> will also be accepted for consistency with the other provided libraries. Both flags are exactly the same and are provided as a convenience in case the user finds one more intuitive than the other since <code>DOTGLOB</code> is often the name used in Bash.</p> <h4 id=globnodotdir><code>glob.NODOTDIR, glob.Z</code><a class=headerlink href=#globnodotdir title="Permanent link"></a></h4> <p><code>NOTDOTDIR</code> fundamentally changes how glob patterns deal with <code>.</code> and <code>..</code>. This is great if you'd prefer a more Zsh feel when it comes to special directory matching. When <code>NODOTDIR</code> is enabled, "magic" patterns, such as <code>.*</code>, will not match the special directories of <code>.</code> and <code>..</code>. In order to match these special directories, you will have to use literal glob patterns of <code>.</code> and <code>..</code>. This can be used in all glob API functions that accept flags, and will affect inclusion patterns as well as exclusion patterns.</p> <div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=kn>from</span><span class=w> </span><span class=nn>wcmatch</span><span class=w> </span><span class=kn>import</span> <span class=n>glob</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>glob</span><span class=o>.</span><span class=n>globfilter</span><span class=p>([</span><span class=s1>&#39;.&#39;</span><span class=p>,</span> <span class=s1>&#39;..&#39;</span><span class=p>],</span> <span class=s1>&#39;.*&#39;</span><span class=p>)</span>
<span class=go>[&#39;.&#39;, &#39;..&#39;]</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>glob</span><span class=o>.</span><span class=n>globfilter</span><span class=p>([</span><span class=s1>&#39;.&#39;</span><span class=p>,</span> <span class=s1>&#39;..&#39;</span><span class=p>],</span> <span class=s1>&#39;.*&#39;</span><span class=p>,</span> <span class=n>flags</span><span class=o>=</span><span class=n>glob</span><span class=o>.</span><span class=n>NODOTDIR</span><span class=p>)</span>
<span class=go>[]</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>glob</span><span class=o>.</span><span class=n>globfilter</span><span class=p>([</span><span class=s1>&#39;.&#39;</span><span class=p>,</span> <span class=s1>&#39;..&#39;</span><span class=p>],</span> <span class=s1>&#39;.&#39;</span><span class=p>,</span> <span class=n>flags</span><span class=o>=</span><span class=n>glob</span><span class=o>.</span><span class=n>NODOTDIR</span><span class=p>)</span>
<span class=go>[&#39;.&#39;]</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>glob</span><span class=o>.</span><span class=n>globfilter</span><span class=p>([</span><span class=s1>&#39;.&#39;</span><span class=p>,</span> <span class=s1>&#39;..&#39;</span><span class=p>],</span> <span class=s1>&#39;..&#39;</span><span class=p>,</span> <span class=n>flags</span><span class=o>=</span><span class=n>glob</span><span class=o>.</span><span class=n>NODOTDIR</span><span class=p>)</span>
<span class=go>[&#39;..&#39;]</span>
</code></pre></div> <p>Also affects exclusion patterns:</p> <div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=kn>from</span><span class=w> </span><span class=nn>wcmatch</span><span class=w> </span><span class=kn>import</span> <span class=n>glob</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>glob</span><span class=o>.</span><span class=n>glob</span><span class=p>([</span><span class=s1>&#39;..&#39;</span><span class=p>,</span> <span class=s1>&#39;!.*&#39;</span><span class=p>],</span> <span class=n>flags</span><span class=o>=</span><span class=n>glob</span><span class=o>.</span><span class=n>NEGATE</span><span class=p>)</span>
<span class=go>[]</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>glob</span><span class=o>.</span><span class=n>glob</span><span class=p>([</span><span class=s1>&#39;..&#39;</span><span class=p>,</span> <span class=s1>&#39;!.*&#39;</span><span class=p>],</span> <span class=n>flags</span><span class=o>=</span><span class=n>glob</span><span class=o>.</span><span class=n>NEGATE</span> <span class=o>|</span> <span class=n>glob</span><span class=o>.</span><span class=n>NODOTDIR</span><span class=p>)</span>
<span class=go>[&#39;..&#39;]</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>glob</span><span class=o>.</span><span class=n>glob</span><span class=p>([</span><span class=s1>&#39;..&#39;</span><span class=p>,</span> <span class=s1>&#39;!..&#39;</span><span class=p>],</span> <span class=n>flags</span><span class=o>=</span><span class=n>glob</span><span class=o>.</span><span class=n>NEGATE</span> <span class=o>|</span> <span class=n>glob</span><span class=o>.</span><span class=n>NODOTDIR</span><span class=p>)</span>
<span class=go>[]</span>
</code></pre></div> <div class="admonition new"> <p class=admonition-title>New 7.0</p> <p><code>NODOTDIR</code> was added in 7.0.</p> </div> <h4 id=scandotdir><code>glob.SCANDOTDIR, glob.SD</code><a class=headerlink href=#scandotdir title="Permanent link"></a></h4> <p><code>SCANDOTDIR</code> controls the directory scanning behavior of <a href=#glob><code>glob</code></a> and <a href=#iglob><code>iglob</code></a>. The directory scanner of these functions do not return <code>.</code> and <code>..</code> in their results. This means that unless you use an explicit <code>.</code> or <code>..</code> in your glob pattern, <code>.</code> and <code>..</code> will not be returned. When <code>SCANDOTDIR</code> is enabled, <code>.</code> and <code>..</code> will be returned when a directory is scanned causing "magic" patterns, such as <code>.*</code>, to match <code>.</code> and <code>..</code>.</p> <p>This only controls the directory scanning behavior and not how glob patterns behave. Exclude patterns, which filter the returned results via <a href=#negate><code>NEGATE</code></a>, can still match <code>.</code> and <code>..</code> with "magic" patterns such as <code>.*</code> regardless of whether <code>SCANDOTDIR</code> is enabled or not. It will also have no affect on <a href=#globmatch><code>globmatch</code></a>. To fundamentally change how glob patterns behave, you can use <a href=#nodotdir><code>NODOTDIR</code></a>.</p> <div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=kn>from</span><span class=w> </span><span class=nn>wcmatch</span><span class=w> </span><span class=kn>import</span> <span class=n>glob</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>glob</span><span class=o>.</span><span class=n>glob</span><span class=p>(</span><span class=s1>&#39;.*&#39;</span><span class=p>)</span>
<span class=go>[&#39;.codecov.yml&#39;, &#39;.tox&#39;, &#39;.coverage&#39;, &#39;.coveragerc&#39;, &#39;.gitignore&#39;, &#39;.github&#39;, &#39;.pyspelling.yml&#39;, &#39;.git&#39;]</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>glob</span><span class=o>.</span><span class=n>glob</span><span class=p>(</span><span class=s1>&#39;.*&#39;</span><span class=p>,</span> <span class=n>flags</span><span class=o>=</span><span class=n>glob</span><span class=o>.</span><span class=n>SCANDOTDIR</span><span class=p>)</span>
<span class=go>[&#39;.&#39;, &#39;..&#39;, &#39;.codecov.yml&#39;, &#39;.tox&#39;, &#39;.coverage&#39;, &#39;.coveragerc&#39;, &#39;.gitignore&#39;, &#39;.github&#39;, &#39;.pyspelling.yml&#39;, &#39;.git&#39;]</span>
</code></pre></div> <div class="admonition new"> <p class=admonition-title>New 7.0</p> <p><code>SCANDOTDIR</code> was added in 7.0.</p> </div> <h4 id=extglob><code>glob.EXTGLOB, glob.E</code><a class=headerlink href=#extglob title="Permanent link"></a></h4> <p><code>EXTGLOB</code> enables extended pattern matching which includes special pattern lists such as <code>+(...)</code>, <code>*(...)</code>, <code>?(...)</code>, etc. Pattern lists allow for multiple patterns within them separated by <code>|</code>. See the globbing <a href=#syntax>syntax overview</a> for more information.</p> <p>Alternatively <code>EXTMATCH</code> will also be accepted for consistency with the other provided libraries. Both flags are exactly the same and are provided as a convenience in case the user finds one more intuitive than the other since <code>EXTGLOB</code> is often the name used in Bash.</p> <div class="admonition tip"> <p class=admonition-title>EXTGLOB and NEGATE</p> <p>When using <code>EXTGLOB</code> and <a href=#negate><code>NEGATE</code></a> together, if a pattern starts with <code>!(</code>, the pattern will not be treated as a <a href=#negate><code>NEGATE</code></a> pattern (even if <code>!(</code> doesn't yield a valid <code>EXTGLOB</code> pattern). To negate a pattern that starts with a literal <code>(</code>, you must escape the bracket: <code>!\(</code>.</p> </div> <h4 id=brace><code>glob.BRACE, glob.B</code><a class=headerlink href=#brace title="Permanent link"></a></h4> <p><code>BRACE</code> enables Bash style brace expansion: <code>a{b,{c,d}}</code> &rarr; <code>ab ac ad</code>. Brace expansion is applied before anything else. When applied, a pattern will be expanded into multiple patterns. Each pattern will then be parsed separately.</p> <p>Duplicate patterns will be discarded<sup id=fnref:1><a class=footnote-ref href=#fn:1>1</a></sup> by default, and <code>glob</code> and <code>iglob</code> will return only unique results. If you need <a href=#glob><code>glob</code></a> or <a href=#iglob><code>iglob</code></a> to behave more like Bash and return all results, you can set <a href=#nounique><code>NOUNIQUE</code></a>. <a href=#nounique><code>NOUNIQUE</code></a> has no effect on matching functions such as <a href=#globmatch><code>globmatch</code></a> and <a href=#globfilter><code>globfilter</code></a>.</p> <p>For simple patterns, it may make more sense to use <a href=#extglob><code>EXTGLOB</code></a> which will only generate a single pattern which will perform much better: <code>@(ab|ac|ad)</code>.</p> <div class="admonition warning"> <p class=admonition-title>Massive Expansion Risk</p> <ol> <li> <p>It is important to note that each pattern is crawled separately, so patterns such as <code>{1..100}</code> would generate <strong>one hundred</strong> patterns. In a match function (<a href=#globmatch><code>globmatch</code></a>), that would cause a hundred compares, and in a file crawling function (<a href=#glob><code>glob</code></a>), it would cause the file system to be crawled one hundred times. Sometimes patterns like this are needed, so construct patterns thoughtfully and carefully.</p> </li> <li> <p><code>BRACE</code> and <a href=#split><code>SPLIT</code></a> both expand patterns into multiple patterns. Using these two syntaxes simultaneously can exponential increase duplicate patterns:</p> <div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=n>expand</span><span class=p>(</span><span class=s1>&#39;test@(this{|that,|other})|*.py&#39;</span><span class=p>,</span> <span class=n>BRACE</span> <span class=o>|</span> <span class=n>SPLIT</span> <span class=o>|</span> <span class=n>EXTMATCH</span><span class=p>)</span>
<span class=go>[&#39;test@(this|that)&#39;, &#39;test@(this|other)&#39;, &#39;*.py&#39;, &#39;*.py&#39;]</span>
</code></pre></div> <p>This effect is reduced as redundant, identical patterns are optimized away<sup id=fnref4:1><a class=footnote-ref href=#fn:1>1</a></sup>, but when using crawling functions (like <a href=#glob><code>glob</code></a>) <em>and</em> <a href=#nounique><code>NOUNIQUE</code></a> that optimization is removed, and all of those patterns will be crawled. For this reason, especially when using functions like <a href=#glob><code>glob</code></a>, it is recommended to use one syntax or the other.</p> </li> </ol> </div> <h4 id=split><code>glob.SPLIT, glob.S</code><a class=headerlink href=#split title="Permanent link"></a></h4> <p><code>SPLIT</code> is used to take a string of multiple patterns that are delimited by <code>|</code> and split them into separate patterns. This is provided to help with some interfaces that might need a way to define multiple patterns in one input. It pairs really well with <a href=#extglob><code>EXTGLOB</code></a> and takes into account sequences (<code>[]</code>) and extended patterns (<code>*(...)</code>) and will not parse <code>|</code> within them. You can also escape the delimiters if needed: <code>\|</code>.</p> <p>Duplicate patterns will be discarded<sup id=fnref2:1><a class=footnote-ref href=#fn:1>1</a></sup> by default, and <code>glob</code> and <code>iglob</code> will return only unique results. If you need <a href=#glob><code>glob</code></a> or <a href=#iglob><code>iglob</code></a> to behave more like Bash and return all results, you can set <a href=#nounique><code>NOUNIQUE</code></a>. <a href=#nounique><code>NOUNIQUE</code></a> has no effect on matching functions such as <a href=#globmatch><code>globmatch</code></a> and <a href=#globfilter><code>globfilter</code></a>.</p> <p>While <code>SPLIT</code> is not as powerful as <a href=#brace><code>BRACE</code></a>, it's syntax is very easy to use, and when paired with <a href=#extglob><code>EXTGLOB</code></a>, it feels natural and comes a bit closer. It is also much harder to create massive expansions of patterns with it, except when paired <em>with</em> <a href=#brace><code>BRACE</code></a>. See <a href=#brace><code>BRACE</code></a> and its warnings related to pairing it with <code>SPLIT</code>.</p> <div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=kn>from</span><span class=w> </span><span class=nn>wcmatch</span><span class=w> </span><span class=kn>import</span> <span class=n>glob</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>glob</span><span class=o>.</span><span class=n>globmatch</span><span class=p>(</span><span class=s1>&#39;test.txt&#39;</span><span class=p>,</span> <span class=s1>&#39;*.txt|*.py&#39;</span><span class=p>,</span> <span class=n>flags</span><span class=o>=</span><span class=n>fnmatch</span><span class=o>.</span><span class=n>SPLIT</span><span class=p>)</span>
<span class=go>True</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>glob</span><span class=o>.</span><span class=n>globmatch</span><span class=p>(</span><span class=s1>&#39;test.py&#39;</span><span class=p>,</span> <span class=s1>&#39;*.txt|*.py&#39;</span><span class=p>,</span> <span class=n>flags</span><span class=o>=</span><span class=n>fnmatch</span><span class=o>.</span><span class=n>SPLIT</span><span class=p>)</span>
<span class=go>True</span>
</code></pre></div> <h4 id=nounique><code>glob.NOUNIQUE, glob.Q</code><a class=headerlink href=#nounique title="Permanent link"></a></h4> <p><code>NOUNIQUE</code> is used to disable Wildcard Match's unique results return. This mimics Bash's output behavior if that is desired.</p> <div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=kn>from</span><span class=w> </span><span class=nn>wcmatch</span><span class=w> </span><span class=kn>import</span> <span class=n>glob</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>glob</span><span class=o>.</span><span class=n>glob</span><span class=p>(</span><span class=s1>&#39;{*,README}.md&#39;</span><span class=p>,</span> <span class=n>flags</span><span class=o>=</span><span class=n>glob</span><span class=o>.</span><span class=n>BRACE</span> <span class=o>|</span> <span class=n>glob</span><span class=o>.</span><span class=n>NOUNIQUE</span><span class=p>)</span>
<span class=go>[&#39;LICENSE.md&#39;, &#39;README.md&#39;, &#39;README.md&#39;]</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>glob</span><span class=o>.</span><span class=n>glob</span><span class=p>(</span><span class=s1>&#39;{*,README}.md&#39;</span><span class=p>,</span> <span class=n>flags</span><span class=o>=</span><span class=n>glob</span><span class=o>.</span><span class=n>BRACE</span> <span class=p>)</span>
<span class=go>[&#39;LICENSE.md&#39;, &#39;README.md&#39;]</span>
</code></pre></div> <p>By default, only unique paths are returned in <a href=#glob><code>glob</code></a> and <a href=#iglob><code>iglob</code></a>. Normally this is what a programmer would want from such a library, so input patterns are reduced to unique patterns<sup id=fnref3:1><a class=footnote-ref href=#fn:1>1</a></sup> to reduce excessive matching with redundant patterns and excessive crawls through the file system. Also, as two different patterns that have been fed into <a href=#glob><code>glob</code></a> may match the same file, the results are also filtered as to not return the duplicates.</p> <p>Unique results is are accomplished by filtering out duplicate patterns and by retaining an internal set of returned files to determine duplicates. The internal set of files is not retained if only a single, inclusive pattern is provided. Exclusive patterns via <a href=#negate><code>NEGATE</code></a> will not trigger the logic. Singular inclusive patterns that use pattern expansions due to <a href=#brace><code>BRACE</code></a> or <a href=#split><code>SPLIT</code></a> will act as if multiple patterns were provided, and will trigger the duplicate filtering logic. This is mentioned as functions such as <a href=#iglob><code>iglob</code></a>, which normally are expected to not retain results in memory, will be forced to retain a set to ensure unique results if multiple inclusive patterns are provided.</p> <p><code>NOUNIQUE</code> disables all of the aforementioned "unique" optimizations, but only for <a href=#glob><code>glob</code></a> and <a href=#iglob><code>iglob</code></a>. Functions like <a href=#globmatch><code>globmatch</code></a> and <a href=#globfilter><code>globfilter</code></a> would get no benefit from disabling "unique" optimizations as they only match what they are given.</p> <div class="admonition new"> <p class=admonition-title>New in 6.0</p> <p>"Unique" optimizations were added in 6.0, along with <code>NOUNIQUE</code>.</p> </div> <h4 id=globtilde><code>glob.GLOBTILDE, glob.T</code><a class=headerlink href=#globtilde title="Permanent link"></a></h4> <p><code>GLOBTILDE</code> allows for user path expansion via <code>~</code>. You can get the current user path by using <code>~</code> at the start of a path. <code>~</code> can be used as the entire pattern, or it must be followed by a directory slash: <code>~/more-pattern</code>.</p> <p>To specify a specific user, you can explicitly specify a user name via <code>~user</code>. If additional pattern is needed, the user name must be followed by a directory slash: <code>~user/more-pattern</code>.</p> <div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=kn>from</span><span class=w> </span><span class=nn>wcmatch</span><span class=w> </span><span class=kn>import</span> <span class=n>glob</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>glob</span><span class=o>.</span><span class=n>glob</span><span class=p>(</span><span class=s1>&#39;~&#39;</span><span class=p>,</span> <span class=n>flags</span><span class=o>=</span><span class=n>glob</span><span class=o>.</span><span class=n>GLOBTILDE</span><span class=p>)</span>
<span class=go>[&#39;/home/facelessuser&#39;]</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>glob</span><span class=o>.</span><span class=n>glob</span><span class=p>(</span><span class=s1>&#39;~root&#39;</span><span class=p>,</span> <span class=n>flags</span><span class=o>=</span><span class=n>glob</span><span class=o>.</span><span class=n>GLOBTILDE</span><span class=p>)</span>
<span class=go>[&#39;/root&#39;]</span>
</code></pre></div> <p><code>GLOBTILDE</code> can also be used in things like <a href=#globfilter><code>globfilter</code></a> or <a href=#globmatch><code>globmatch</code></a>, but you must be using <a href=#realpath><code>REALPATH</code></a> or the user path will not be expanded.</p> <div class=highlight><pre><span></span><code><span class=go>from wcmatch import glob</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>glob</span><span class=o>.</span><span class=n>globmatch</span><span class=p>(</span><span class=s1>&#39;/home/facelessuser/&#39;</span><span class=p>,</span> <span class=s1>&#39;~&#39;</span><span class=p>,</span> <span class=n>flags</span><span class=o>=</span><span class=n>glob</span><span class=o>.</span><span class=n>GLOBTILDE</span> <span class=o>|</span> <span class=n>glob</span><span class=o>.</span><span class=n>REALPATH</span><span class=p>)</span>
<span class=go>True</span>
</code></pre></div> <div class="admonition new"> <p class=admonition-title>New 6.0</p> <p>Tilde expansion with <code>GLOBTILDE</code> was added in version 6.0.</p> </div> <h4 id=mark><code>glob.MARK, glob.K</code><a class=headerlink href=#mark title="Permanent link"></a></h4> <p><code>MARK</code> ensures that <a href=#glob><code>glob</code></a> and <a href=#iglob><code>iglob</code></a> to return all directories with a trailing slash. This makes it very clear which paths are directories and allows you to save calling <code>os.path.isdir</code> as you can simply check for a path separator at the end of the path. This flag only applies to calls to <code>glob</code> or <code>iglob</code>.</p> <p>If you are passing the returned files from <code>glob</code> to <a href=#globfilter><code>globfilter</code></a> or <a href=#globmatch><code>globmatch</code></a>, it is important to ensure directory paths have trailing slashes as these functions have no way of telling the path is a directory otherwise (except when <a href=#realpath><code>REALPATH</code></a> is enabled). If you have <a href=#realpath><code>REALPATH</code></a> enabled, ensuring the files have trailing slashes can still save you a call to <code>os.path.isdir</code> as <a href=#realpath><code>REALPATH</code></a> resorts to calling it if there is no trailing slash.</p> <div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=kn>from</span><span class=w> </span><span class=nn>wcmatch</span><span class=w> </span><span class=kn>import</span> <span class=n>glob</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>glob</span><span class=o>.</span><span class=n>glob</span><span class=p>(</span><span class=s1>&#39;*&#39;</span><span class=p>,</span> <span class=n>flags</span><span class=o>=</span><span class=n>glob</span><span class=o>.</span><span class=n>MARK</span><span class=p>)</span>
<span class=go>[&#39;appveyor.yml&#39;, &#39;base.patch&#39;, &#39;basematch.diff&#39;, &#39;docs/&#39;, &#39;LICENSE.md&#39;, &#39;MANIFEST.in&#39;, &#39;mkdocs.yml&#39;, &#39;README.md&#39;, &#39;requirements/&#39;, &#39;setup.cfg&#39;, &#39;setup.py&#39;, &#39;tests/&#39;, &#39;tools/&#39;, &#39;tox.ini&#39;, &#39;wcmatch/&#39;]</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>glob</span><span class=o>.</span><span class=n>glob</span><span class=p>(</span><span class=s1>&#39;*&#39;</span><span class=p>)</span>
<span class=go>[&#39;appveyor.yml&#39;, &#39;base.patch&#39;, &#39;basematch.diff&#39;, &#39;docs&#39;, &#39;LICENSE.md&#39;, &#39;MANIFEST.in&#39;, &#39;mkdocs.yml&#39;, &#39;README.md&#39;, &#39;requirements&#39;, &#39;setup.cfg&#39;, &#39;setup.py&#39;, &#39;tests&#39;, &#39;tools&#39;, &#39;tox.ini&#39;, &#39;wcmatch&#39;]</span>
</code></pre></div> <h4 id=matchbase><code>glob.MATCHBASE, glob.X</code><a class=headerlink href=#matchbase title="Permanent link"></a></h4> <p><code>MATCHBASE</code>, when a pattern has no slashes in it, will cause <a href=#glob><code>glob</code></a> and <a href=#iglob><code>iglob</code></a> to seek for any file anywhere in the tree with a matching basename. When enabled for <a href=#globfilter><code>globfilter</code></a> and <a href=#globmatch><code>globmatch</code></a>, any path whose basename matches. <code>MATCHBASE</code> is sensitive to files and directories that start with <code>.</code> and will not match such files and directories if <a href=#dotglob><code>DOTGLOB</code></a> is not enabled.</p> <div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=kn>from</span><span class=w> </span><span class=nn>wcmatch</span><span class=w> </span><span class=kn>import</span> <span class=n>glob</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>glob</span><span class=o>.</span><span class=n>glob</span><span class=p>(</span><span class=s1>&#39;*.txt&#39;</span><span class=p>,</span> <span class=n>flags</span><span class=o>=</span><span class=n>glob</span><span class=o>.</span><span class=n>MATCHBASE</span><span class=p>)</span>
<span class=go>[&#39;docs/src/dictionary/en-custom.txt&#39;, &#39;docs/src/markdown/_snippets/abbr.txt&#39;, &#39;docs/src/markdown/_snippets/links.txt&#39;, &#39;docs/src/markdown/_snippets/posix.txt&#39;, &#39;docs/src/markdown/_snippets/refs.txt&#39;, &#39;requirements/docs.txt&#39;, &#39;requirements/lint.txt&#39;, &#39;requirements/setup.txt&#39;, &#39;requirements/test.txt&#39;, &#39;requirements/tools.txt&#39;]</span>
</code></pre></div> <h4 id=nodir><code>glob.NODIR, glob.O</code><a class=headerlink href=#nodir title="Permanent link"></a></h4> <p><code>NODIR</code> will cause <a href=#glob><code>glob</code></a>, <a href=#iglob><code>iglob</code></a>, <a href=#globmatch><code>globmatch</code></a>, and <a href=#globfilter><code>globfilter</code></a> to return only matched files.</p> <div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=kn>from</span><span class=w> </span><span class=nn>wcmatch</span><span class=w> </span><span class=kn>import</span> <span class=n>glob</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>glob</span><span class=o>.</span><span class=n>glob</span><span class=p>(</span><span class=s1>&#39;*&#39;</span><span class=p>,</span> <span class=n>flags</span><span class=o>=</span><span class=n>glob</span><span class=o>.</span><span class=n>NODIR</span><span class=p>)</span>
<span class=go>[&#39;appveyor.yml&#39;, &#39;LICENSE.md&#39;, &#39;MANIFEST.in&#39;, &#39;mkdocs.yml&#39;, &#39;README.md&#39;, &#39;setup.cfg&#39;, &#39;setup.py&#39;, &#39;spell.log&#39;, &#39;tox.ini&#39;]</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>glob</span><span class=o>.</span><span class=n>glob</span><span class=p>(</span><span class=s1>&#39;*&#39;</span><span class=p>)</span>
<span class=go>[&#39;appveyor.yml&#39;, &#39;docs&#39;, &#39;LICENSE.md&#39;, &#39;MANIFEST.in&#39;, &#39;mkdocs.yml&#39;, &#39;README.md&#39;, &#39;requirements&#39;, &#39;setup.cfg&#39;, &#39;setup.py&#39;, &#39;spell.log&#39;, &#39;tests&#39;, &#39;tools&#39;, &#39;tox.ini&#39;, &#39;wcmatch&#39;]</span>
</code></pre></div> <h4 id=forcewin><code>glob.FORCEWIN, glob.W</code><a class=headerlink href=#forcewin title="Permanent link"></a></h4> <p><code>FORCEWIN</code> will force Windows path and case logic to be used on Linux/Unix systems. It will also cause slashes to be normalized and Windows drive syntax to be handled special. This is great if you need to match Windows specific paths on a Linux/Unix system. This will only work on commands that do not access the file system: <a href=#translate><code>translate</code></a>, <a href=#globmatch><code>globmatch</code></a>, <a href=#globfilter><code>globfilter</code></a>, etc. These flags will not work with <a href=#glob><code>glob</code></a> or <a href=#iglob><code>iglob</code></a>. It also will not work when using the <a href=#realpath><code>REALPATH</code></a> flag with things like <a href=#globmatch><code>globmatch</code></a> and <a href=#globfilter><code>globfilter</code></a>.</p> <p>If <code>FORCEWIN</code> is used along side <a href=#forceunix><code>FORCEUNIX</code></a>, both will be ignored.</p> <h4 id=forceunix><code>glob.FORCEUNIX, glob.U</code><a class=headerlink href=#forceunix title="Permanent link"></a></h4> <p><code>FORCEUNIX</code> will force Linux/Unix path and case logic to be used on Windows systems. This is great if you need to match Linux/Unix specific paths on a Windows system. This will only work on commands that do not access the file system: <a href=#translate><code>translate</code></a>, <a href=#globmatch><code>globmatch</code></a>, <a href=#globfilter><code>globfilter</code></a>, etc. These flags will not work with <a href=#glob><code>glob</code></a> or <a href=#iglob><code>iglob</code></a>. It also will not work when using the <a href=#realpath><code>REALPATH</code></a> flag with things like <a href=#globmatch><code>globmatch</code></a> and <a href=#globfilter><code>globfilter</code></a>.</p> <p>When using <code>FORCEUNIX</code>, the paths are assumed to be case sensitive, but you can use <a href=#ignorecase><code>IGNORECASE</code></a> to use case insensitivity.</p> <p>If <code>FORCEUNIX</code> is used along side <a href=#forcewin><code>FORCEWIN</code></a>, both will be ignored.</p> <div class=footnote> <hr> <ol> <li id=fn:1> <p>Identical patterns are only reduced by comparing case sensitively as POSIX character classes are case sensitive: <code>[[:alnum:]]</code> &ne; <code>[[:ALNUM:]]</code>.&#160;<a class=footnote-backref href=#fnref:1 title="Jump back to footnote 1 in the text">&#8617;</a><a class=footnote-backref href=#fnref2:1 title="Jump back to footnote 1 in the text">&#8617;</a><a class=footnote-backref href=#fnref3:1 title="Jump back to footnote 1 in the text">&#8617;</a><a class=footnote-backref href=#fnref4:1 title="Jump back to footnote 1 in the text">&#8617;</a></p> </li> </ol> </div> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title="Last update"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="February 23, 2025 23:54:23 UTC">February 23, 2025</span> </span> </aside> <footer class=sponsorship> <hr> <a href=https://github.com/sponsors/facelessuser title="Become a sponsor"> <span class="twemoji heart-throb-hover"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 16 16"><path d="M7.655 14.916zh-.002l-.006-.003-.018-.01a22 22 0 0 1-3.744-2.584C2.045 10.731 0 8.35 0 5.5 0 2.836 2.086 1 4.25 1 5.797 1 7.153 1.802 8 3.02 8.847 1.802 10.203 1 11.75 1 13.914 1 16 2.836 16 5.5c0 2.85-2.044 5.231-3.886 6.818a22 22 0 0 1-3.433 2.414 7 7 0 0 1-.31.17l-.018.01-.008.004a.75.75 0 0 1-.69 0"/></svg> </span> </a> <hr> </footer> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=footer.title> <a href=../fnmatch/ class="md-footer__link md-footer__link--prev" rel=prev> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </div> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Previous </span> Usage </div> </div> </a> <a href=../pathlib/ class="md-footer__link md-footer__link--next" rel=next> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Next </span> Usage </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> Copyright &copy; 2014 - 2025 <a href=https://github.com/facelessuser target=_blank rel=noopener>Isaac Muse</a> </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> with emoji by <a href=https://github.com/twitter/twemoji target=_blank rel=noopener> Twemoji </a> </div> <div class=md-social> <a href=https://github.com/facelessuser target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "..", "features": ["navigation.tabs", "navigation.top", "navigation.instant", "navigation.indexes", "toc.follow", "content.code.copy", "navigation.footer", "search.share", "search.highlight", "search.suggest"], "search": "../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=../assets/javascripts/bundle.13a4f30d.min.js></script> <script src=../assets/pymdownx-extras/extra-loader-B5CKpNQx.js></script> </body> </html>